2025-04-23 19:28:36,041 - db_manager - ERROR - Database setup error: (1045, "Access denied for user 'robgro'@'2a0a:ef40:77d:a501:e904:559d:ea8:e130' (using password: YES)")
Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 36, in _ensure_database_setup
    with self._get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\db_manager.py", line 24, in _get_connection
    return pymysql.connect(
           ^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 669, in connect
    self._request_authentication()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 957, in _request_authentication
    auth_packet = self._read_packet()
                  ^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'robgro'@'2a0a:ef40:77d:a501:e904:559d:ea8:e130' (using password: YES)")
2025-04-23 19:29:10,129 - db_manager - ERROR - Database setup error: (1045, "Access denied for user 'robgro'@'2a0a:ef40:77d:a501:e904:559d:ea8:e130' (using password: YES)")
Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 36, in _ensure_database_setup
    with self._get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\db_manager.py", line 24, in _get_connection
    return pymysql.connect(
           ^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 669, in connect
    self._request_authentication()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 957, in _request_authentication
    auth_packet = self._read_packet()
                  ^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'robgro'@'2a0a:ef40:77d:a501:e904:559d:ea8:e130' (using password: YES)")
2025-04-23 19:29:39,169 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:33:14,346 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:33:15,428 - __main__ - INFO - Model training scheduler started
2025-04-23 20:33:16,296 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:33:17,211 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:33:17,211 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:33:17,212 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:33:17,213 - discord.client - INFO - logging in using static token
2025-04-23 20:33:18,105 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 20:33:18,106 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 20:33:18,110 - werkzeug - INFO -  * Restarting with stat
2025-04-23 20:33:21,242 - db_manager - ERROR - Database setup error: (2003, "Can't connect to MySQL server on 'mysql-robgro.alwaysdata.net/' ([Errno 11001] getaddrinfo failed)")
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 841, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 976, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 36, in _ensure_database_setup
    with self._get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\db_manager.py", line 24, in _get_connection
    return pymysql.connect(
           ^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql-robgro.alwaysdata.net/' ([Errno 11001] getaddrinfo failed)")
2025-04-23 20:39:39,364 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:39:40,429 - __main__ - INFO - Model training scheduler started
2025-04-23 20:39:40,877 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:39:41,791 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:39:41,792 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:39:41,792 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:39:41,794 - discord.client - INFO - logging in using static token
2025-04-23 20:39:42,647 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 20:39:42,647 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 20:39:42,649 - werkzeug - INFO -  * Restarting with stat
2025-04-23 20:39:42,691 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: a4c9d04c3aece14d7a545cae85344780).
2025-04-23 20:39:46,015 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:39:47,084 - __main__ - INFO - Model training scheduler started
2025-04-23 20:39:48,056 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:39:48,983 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:39:48,983 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:39:48,984 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:39:48,985 - discord.client - INFO - logging in using static token
2025-04-23 20:39:49,870 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 1fd3ed95dc0abf01998b4ca1f5c5b6b3).
2025-04-23 20:40:36,095 - discord.client - ERROR - Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio(temp_file.name, message.author.email or "discord_user@example.com")
                                           ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Member' object has no attribute 'email'
2025-04-23 20:40:36,163 - discord.client - ERROR - Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio(temp_file.name, message.author.email or "discord_user@example.com")
                                           ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Member' object has no attribute 'email'
2025-04-23 20:42:31,302 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:42:32,408 - __main__ - INFO - Model training scheduler started
2025-04-23 20:42:42,873 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:42:43,787 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:42:43,789 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:42:43,789 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:42:43,791 - discord.client - INFO - logging in using static token
2025-04-23 20:42:44,648 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 20:42:44,649 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 20:42:44,654 - werkzeug - INFO -  * Restarting with stat
2025-04-23 20:42:44,889 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 665cbf01d2bcce2280f6b722b44841c6).
2025-04-23 20:42:58,215 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:42:59,296 - __main__ - INFO - Model training scheduler started
2025-04-23 20:42:59,753 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:43:00,695 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:43:00,696 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:43:00,696 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:43:00,697 - discord.client - INFO - logging in using static token
2025-04-23 20:43:01,670 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: e03e74df14abf4b12b04acc61c9cd1bd).
2025-04-23 20:43:11,083 - discord.client - ERROR - Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio(temp_file.name, "discord_user@example.com")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: process_audio() takes 0 positional arguments but 2 were given
2025-04-23 20:43:11,212 - discord.client - ERROR - Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio(temp_file.name, "discord_user@example.com")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: process_audio() takes 0 positional arguments but 2 were given
2025-04-23 20:46:35,536 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:46:36,628 - __main__ - INFO - Model training scheduler started
2025-04-23 20:46:37,091 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:46:38,046 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:46:38,046 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:46:38,047 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:46:38,048 - discord.client - INFO - logging in using static token
2025-04-23 20:46:38,902 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 20:46:38,902 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 20:46:38,904 - werkzeug - INFO -  * Restarting with stat
2025-04-23 20:46:40,294 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 938f700d3ceecc28499f9dce1478d98e).
2025-04-23 20:46:42,320 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:46:43,424 - __main__ - INFO - Model training scheduler started
2025-04-23 20:46:43,916 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 20:46:44,876 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 20:46:44,876 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 20:46:44,877 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 20:46:44,878 - discord.client - INFO - logging in using static token
2025-04-23 20:46:45,870 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 486eb8263946d2124d4e08bed3fc4624).
2025-04-23 20:46:56,173 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 20:46:56,174 - transcription - ERROR - Transcription error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
Traceback (most recent call last):
  File "C:\_python\Expenses\transcription.py", line 56, in transcribe_audio
    response = openai.Audio.transcribe(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-04-23 20:46:56,180 - app - ERROR - Error processing audio: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 60, in process_audio_file
    transcription = transcribe_audio(file_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\transcription.py", line 56, in transcribe_audio
    response = openai.Audio.transcribe(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-04-23 20:46:56,195 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 20:46:56,195 - transcription - ERROR - Transcription error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
Traceback (most recent call last):
  File "C:\_python\Expenses\transcription.py", line 56, in transcribe_audio
    response = openai.Audio.transcribe(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-04-23 20:46:56,196 - app - ERROR - Error processing audio: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 60, in process_audio_file
    transcription = transcribe_audio(file_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\transcription.py", line 56, in transcribe_audio
    response = openai.Audio.transcribe(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-04-23 22:47:23,998 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:47:25,079 - __main__ - INFO - Model training scheduler started
2025-04-23 22:47:25,538 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:47:26,671 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:47:26,671 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:47:26,672 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:47:26,673 - discord.client - INFO - logging in using static token
2025-04-23 22:47:27,525 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 22:47:27,526 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 22:47:27,530 - werkzeug - INFO -  * Restarting with stat
2025-04-23 22:47:27,754 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 1f426f4d968ceb1587755f7efd14d5ba).
2025-04-23 22:47:31,540 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:47:32,628 - __main__ - INFO - Model training scheduler started
2025-04-23 22:47:33,082 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:47:34,110 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:47:34,111 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:47:34,111 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:47:34,113 - discord.client - INFO - logging in using static token
2025-04-23 22:47:34,959 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: c0f5b80c8851e84f854f7ed8b88db047).
2025-04-23 22:47:55,120 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:47:55,168 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:47:55,475 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 401 Unauthorized"
2025-04-23 22:47:55,477 - transcription - ERROR - Transcription error: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope*******-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):
  File "C:\_python\Expenses\transcription.py", line 63, in transcribe_audio
    response = client.audio.transcriptions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 316, in create
    return self._post(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope*******-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-23 22:47:55,489 - app - ERROR - Error processing audio: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope*******-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 60, in process_audio_file
    transcription = transcribe_audio(file_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\transcription.py", line 63, in transcribe_audio
    response = client.audio.transcriptions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 316, in create
    return self._post(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: your-ope*******-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-23 22:47:56,613 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:47:56,614 - transcription - INFO - Transcription successful: Kupi³em benzynê na Tesco wczoraj za 50 funtów.
...
2025-04-23 22:47:56,615 - app - ERROR - Error processing audio: name 'extract_expense_info' is not defined
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 63, in process_audio_file
    expenses = extract_expense_info(transcription)
               ^^^^^^^^^^^^^^^^^^^^
NameError: name 'extract_expense_info' is not defined
2025-04-23 22:50:15,028 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:50:16,083 - __main__ - INFO - Model training scheduler started
2025-04-23 22:50:16,535 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:50:17,491 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:50:17,492 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:50:17,493 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:50:17,494 - discord.client - INFO - logging in using static token
2025-04-23 22:50:18,318 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: bb3f0b6942cc2420f2de3afd3daf4ed4).
2025-04-23 22:50:18,350 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 22:50:18,350 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 22:50:18,351 - werkzeug - INFO -  * Restarting with stat
2025-04-23 22:50:22,316 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:50:23,368 - __main__ - INFO - Model training scheduler started
2025-04-23 22:50:23,855 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:50:24,795 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:50:24,796 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:50:24,796 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:50:24,798 - discord.client - INFO - logging in using static token
2025-04-23 22:50:25,787 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: b8c12284a0246e3eca15b3ee843f76d4).
2025-04-23 22:50:39,507 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:50:39,549 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:50:40,718 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:50:40,719 - transcription - INFO - Transcription successful: Dobra i kupi³em benzynê w Tesco za 50 funtów.
...
2025-04-23 22:50:40,719 - app - ERROR - Error processing audio: name 'extract_expense_info' is not defined
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 63, in process_audio_file
    expenses = extract_expense_info(transcription)
               ^^^^^^^^^^^^^^^^^^^^
NameError: name 'extract_expense_info' is not defined
2025-04-23 22:50:41,030 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:50:41,030 - transcription - INFO - Transcription successful: Dobra i kupi³em benzynê w Tesco za 50 funtów.
...
2025-04-23 22:50:41,030 - app - ERROR - Error processing audio: name 'extract_expense_info' is not defined
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 63, in process_audio_file
    expenses = extract_expense_info(transcription)
               ^^^^^^^^^^^^^^^^^^^^
NameError: name 'extract_expense_info' is not defined
2025-04-23 22:51:55,307 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:51:56,374 - __main__ - INFO - Model training scheduler started
2025-04-23 22:51:56,821 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:51:57,736 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:51:57,736 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:51:57,737 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:51:57,739 - discord.client - INFO - logging in using static token
2025-04-23 22:51:58,594 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 22:51:58,594 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 22:51:58,595 - werkzeug - INFO -  * Restarting with stat
2025-04-23 22:51:58,664 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: c2caf1c63b8e7e4a693d1d2c282fa213).
2025-04-23 22:52:02,564 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:52:03,689 - __main__ - INFO - Model training scheduler started
2025-04-23 22:52:04,151 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:52:05,084 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:52:05,085 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:52:05,085 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:52:05,087 - discord.client - INFO - logging in using static token
2025-04-23 22:52:06,363 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: e8486fb6ca959d52598947c5a67f297c).
2025-04-23 22:52:19,249 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:52:19,262 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:52:20,477 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:52:20,478 - transcription - INFO - Transcription successful: Dzisiaj kupi³em benzynê Tesco za 50 funtów.
...
2025-04-23 22:52:20,481 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:52:20,482 - transcription - INFO - Transcription successful: Dzisiaj kupi³em benzynê Tesco za 50 funtów.
...
2025-04-23 22:52:20,479 - app - ERROR - Error processing audio: name 'extract_expense_info' is not defined
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 63, in process_audio_file
    expenses = extract_expense_info(transcription)
               ^^^^^^^^^^^^^^^^^^^^
NameError: name 'extract_expense_info' is not defined
2025-04-23 22:52:20,482 - app - ERROR - Error processing audio: name 'extract_expense_info' is not defined
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 63, in process_audio_file
    expenses = extract_expense_info(transcription)
               ^^^^^^^^^^^^^^^^^^^^
NameError: name 'extract_expense_info' is not defined
2025-04-23 22:55:05,471 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:55:06,558 - __main__ - INFO - Model training scheduler started
2025-04-23 22:55:07,014 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:55:08,073 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:55:08,074 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:55:08,075 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:55:08,076 - discord.client - INFO - logging in using static token
2025-04-23 22:55:08,928 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 22:55:08,928 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 22:55:08,930 - werkzeug - INFO -  * Restarting with stat
2025-04-23 22:55:09,016 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 25ada37d411fa331c68a7f9399f4c59e).
2025-04-23 22:55:13,178 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:55:14,261 - __main__ - INFO - Model training scheduler started
2025-04-23 22:55:14,708 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 22:55:15,636 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 22:55:15,637 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 22:55:15,638 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 22:55:15,639 - discord.client - INFO - logging in using static token
2025-04-23 22:55:16,668 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 3bbe1e9c12067b1ac67339de4cda60b8).
2025-04-23 22:55:31,584 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:55:31,621 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 22:55:32,388 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:55:32,390 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê na Tesco za 50 funtów.
...
2025-04-23 22:55:32,903 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 22:55:32,904 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê na Tesco za 50 funtów.
...
2025-04-23 22:55:33,606 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 22:55:33,820 - db_manager - INFO - Added expense record with ID: 1
2025-04-23 22:55:34,049 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 22:55:34,577 - db_manager - INFO - Added expense record with ID: 2
2025-04-23 23:03:43,171 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:03:44,261 - __main__ - INFO - Model training scheduler started
2025-04-23 23:03:44,707 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:03:45,627 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 23:03:45,628 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 23:03:45,629 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 23:03:45,629 - discord.client - INFO - logging in using static token
2025-04-23 23:03:46,484 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 23:03:46,485 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 23:03:46,486 - werkzeug - INFO -  * Restarting with stat
2025-04-23 23:03:46,661 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 5ed427caf1d0a27c26bdd38c30ae2797).
2025-04-23 23:03:50,441 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:03:51,528 - __main__ - INFO - Model training scheduler started
2025-04-23 23:03:51,968 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:03:52,892 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 23:03:52,893 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 23:03:52,894 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 23:03:52,895 - discord.client - INFO - logging in using static token
2025-04-23 23:03:53,815 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f8004424e0182d67d39f9a5eec36582b).
2025-04-23 23:04:03,667 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:04:03,693 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:04:04,477 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:04:04,479 - transcription - INFO - Transcription successful: Dzisiaj kupi³em piwo w Asda za 15 funtów.
...
2025-04-23 23:04:05,523 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:04:05,732 - db_manager - INFO - Added expense record with ID: 3
2025-04-23 23:04:07,201 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:04:07,202 - transcription - INFO - Transcription successful: Dzisiaj kupi³em piwo w Asda za 15 funtów.
...
2025-04-23 23:04:07,719 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-23 23:04:08,357 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:04:08,560 - db_manager - INFO - Added expense record with ID: 4
2025-04-23 23:04:10,587 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-23 23:04:55,776 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:04:55,780 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:04:56,909 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:04:56,911 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê w Tesco za 50 funtów.
...
2025-04-23 23:04:57,177 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:04:57,178 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê w Tesco za 50 funtów.
...
2025-04-23 23:04:58,054 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:04:58,090 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:04:58,260 - db_manager - INFO - Added expense record with ID: 5
2025-04-23 23:04:58,295 - db_manager - INFO - Added expense record with ID: 6
2025-04-23 23:05:00,317 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-23 23:05:00,828 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-23 23:07:49,313 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:07:49,320 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:07:49,945 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:07:49,945 - transcription - INFO - Transcription successful: Wyœlij mi zestawienie wszystkich wydatków.
...
2025-04-23 23:07:50,321 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:07:50,323 - transcription - INFO - Transcription successful: Wyœlij mi zestawienie wszystkich wydatków.
...
2025-04-23 23:07:50,355 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:07:51,148 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:08:04,004 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:08:11,184 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:08:11,413 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6d (2a00:1450:400c:c0b::6d:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6d (2a00:1450:400c:c0b::6d:587), connect error 10060')
2025-04-23 23:08:12,194 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6d (2a00:1450:400c:c0b::6d:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6d (2a00:1450:400c:c0b::6d:587), connect error 10060')
2025-04-23 23:08:12,497 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 5ed427caf1d0a27c26bdd38c30ae2797.
2025-04-23 23:08:40,500 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:08:40,515 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:08:41,235 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:08:41,236 - transcription - INFO - Transcription successful: Wyœlij mi raport z wydatkami.
...
2025-04-23 23:08:41,569 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:08:41,570 - transcription - INFO - Transcription successful: Wyœlij mi raport z wydatkami.
...
2025-04-23 23:08:41,754 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:08:41,977 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:09:02,681 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:09:02,819 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:09:03,019 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:12:04,048 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:12:05,153 - __main__ - INFO - Model training scheduler started
2025-04-23 23:12:15,619 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:12:16,601 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 23:12:16,601 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 23:12:16,602 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 23:12:16,603 - discord.client - INFO - logging in using static token
2025-04-23 23:12:17,460 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-23 23:12:17,460 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-23 23:12:17,462 - werkzeug - INFO -  * Restarting with stat
2025-04-23 23:12:17,654 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: b488aafd03925566438245c015ea4ead).
2025-04-23 23:12:31,579 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:12:32,665 - __main__ - INFO - Model training scheduler started
2025-04-23 23:12:43,121 - db_manager - INFO - Database schema verification completed successfully
2025-04-23 23:12:44,066 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-23 23:12:44,066 - __main__ - INFO - Starting Discord bot in background thread
2025-04-23 23:12:44,068 - __main__ - INFO - Starting Flask application on port 5000
2025-04-23 23:12:44,068 - discord.client - INFO - logging in using static token
2025-04-23 23:12:44,959 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 66e853a441ba48259e378594ff11b953).
2025-04-23 23:13:47,427 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:13:47,430 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:13:48,841 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:13:48,843 - transcription - INFO - Transcription successful: Kupi³em farbê do w³osów w KSK za 15 funtów.
...
2025-04-23 23:13:49,128 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:13:49,129 - transcription - INFO - Transcription successful: Kupi³em farbê do w³osów w KSK za 15 funtów.
...
2025-04-23 23:13:49,709 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:13:49,962 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:13:59,920 - db_manager - INFO - Added expense record with ID: 7
2025-04-23 23:14:00,185 - db_manager - INFO - Added expense record with ID: 8
2025-04-23 23:14:17,306 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 81, in process_audio_file
    send_confirmation_email(expenses)
  File "C:\_python\Expenses\utils\email_helper.py", line 22, in send_confirmation_email
    with smtplib.SMTP(Config.SMTP_SERVER, Config.SMTP_PORT) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:14:21,003 - utils.email_helper - ERROR - B³¹d podczas wysy³ania e-maila: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\utils\email_helper.py", line 22, in send_confirmation_email
    with smtplib.SMTP(Config.SMTP_SERVER, Config.SMTP_PORT) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:14:21,220 - utils.email_helper - ERROR - B³¹d podczas wysy³ania e-maila: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\utils\email_helper.py", line 22, in send_confirmation_email
    with smtplib.SMTP(Config.SMTP_SERVER, Config.SMTP_PORT) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:14:27,321 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:14:31,284 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:14:37,331 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:14:41,292 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:14:42,039 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:14:42,270 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:14:42,343 - discord.gateway - INFO - Shard ID None has successfully RESUMED session b488aafd03925566438245c015ea4ead.
2025-04-23 23:14:42,367 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:14:42,548 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 66e853a441ba48259e378594ff11b953.
2025-04-23 23:14:42,668 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-23 23:14:43,552 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:14:43,553 - transcription - INFO - Transcription successful: Kupi³em benzynê w Tesco za 38 funtów.
...
2025-04-23 23:14:43,560 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-23 23:14:43,561 - transcription - INFO - Transcription successful: Kupi³em benzynê w Tesco za 38 funtów.
...
2025-04-23 23:14:44,604 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:14:44,674 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-23 23:14:54,815 - db_manager - INFO - Added expense record with ID: 9
2025-04-23 23:14:54,908 - db_manager - INFO - Added expense record with ID: 10
2025-04-23 23:15:15,875 - utils.email_helper - ERROR - B³¹d podczas wysy³ania e-maila: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\utils\email_helper.py", line 22, in send_confirmation_email
    with smtplib.SMTP(Config.SMTP_SERVER, Config.SMTP_PORT) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:15:15,968 - utils.email_helper - ERROR - B³¹d podczas wysy³ania e-maila: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\utils\email_helper.py", line 22, in send_confirmation_email
    with smtplib.SMTP(Config.SMTP_SERVER, Config.SMTP_PORT) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:15:33,504 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:15:33,707 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 86, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 30, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 53, in process_discord_audio
    result = process_audio_file(temp_file.name, "discord_user@example.com")
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 255, in __init__
    (code, msg) = self.connect(host, port)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 343, in connect
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-04-23 23:15:36,926 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-23 23:15:37,020 - app - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 85, in process_audio_file
    send_email(
  File "C:\_python\Expenses\app.py", line 140, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-24 13:07:29,577 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:07:30,695 - __main__ - INFO - Model training scheduler started
2025-04-24 13:07:31,192 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:07:32,098 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:07:32,099 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:07:32,100 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:07:32,102 - discord.client - INFO - logging in using static token
2025-04-24 13:07:32,966 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 13:07:32,966 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 13:07:32,967 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: efffccef558b924fda81ddc7bad49799).
2025-04-24 13:07:32,969 - werkzeug - INFO -  * Restarting with stat
2025-04-24 13:07:37,170 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:07:38,217 - __main__ - INFO - Model training scheduler started
2025-04-24 13:07:38,657 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:07:39,579 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:07:39,579 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:07:39,580 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:07:39,581 - discord.client - INFO - logging in using static token
2025-04-24 13:07:40,497 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 316cf2810b96763d97f75cdb73b7a2f2).
2025-04-24 13:08:02,797 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:08:02,826 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:08:04,503 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:08:04,505 - transcription - INFO - Transcription successful: Dzisiaj w Lidlu kupi³em d³ugopisy za 5 fontów 45 pêsów.
...
2025-04-24 13:08:05,169 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:08:05,171 - transcription - INFO - Transcription successful: Dzisiaj w Lidlu kupi³em d³ugopisy za 5 fontów 45 pêsów.
...
2025-04-24 13:08:05,773 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:08:05,979 - db_manager - INFO - Added expense record with ID: 11
2025-04-24 13:08:06,107 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:08:06,303 - db_manager - INFO - Added expense record with ID: 12
2025-04-24 13:08:07,991 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-24 13:08:08,380 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-24 13:09:26,677 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:09:26,719 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:09:27,339 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:09:27,341 - transcription - INFO - Transcription successful: Wyœlij mi na maila zestawienie wszystkich wydatków z tego miesi¹ca.
...
2025-04-24 13:09:27,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:09:28,473 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:09:28,474 - transcription - INFO - Transcription successful: Wyœlij mi na maila zestawienie wszystkich wydatków z tego miesi¹ca.
...
2025-04-24 13:09:28,959 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:22:24,296 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:22:25,366 - __main__ - INFO - Model training scheduler started
2025-04-24 13:22:25,806 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:22:26,721 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:22:26,722 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:22:26,723 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:22:26,724 - discord.client - INFO - logging in using static token
2025-04-24 13:22:27,585 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 13:22:27,585 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 13:22:27,587 - werkzeug - INFO -  * Restarting with stat
2025-04-24 13:22:27,771 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 01e63cf5b15102bfee9fb3a0c14ece3d).
2025-04-24 13:22:32,100 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:22:33,230 - __main__ - INFO - Model training scheduler started
2025-04-24 13:22:33,687 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:22:34,618 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:22:34,618 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:22:34,619 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:22:34,620 - discord.client - INFO - logging in using static token
2025-04-24 13:22:35,512 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 89ad0b342fa8c82aa2fd909618dc922a).
2025-04-24 13:23:55,877 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:23:57,050 - __main__ - INFO - Model training scheduler started
2025-04-24 13:23:57,488 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:23:58,414 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:23:58,414 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:23:58,415 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:23:58,417 - discord.client - INFO - logging in using static token
2025-04-24 13:23:59,260 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 13:23:59,260 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 13:23:59,262 - werkzeug - INFO -  * Restarting with stat
2025-04-24 13:23:59,425 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 84d615bf628cf8de271c52bfb1a73d1d).
2025-04-24 13:24:03,545 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:24:04,600 - __main__ - INFO - Model training scheduler started
2025-04-24 13:24:05,073 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:24:05,999 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:24:06,000 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:24:06,001 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:24:06,002 - discord.client - INFO - logging in using static token
2025-04-24 13:24:07,046 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 199004a9e97611fe69b92acf4c047282).
2025-04-24 13:24:24,706 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:24:24,712 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:24:25,890 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:24:25,892 - transcription - INFO - Transcription successful: Wczoraj kupi³em spodnie za 16,50 w M&S.
...
2025-04-24 13:24:26,545 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:24:26,546 - transcription - INFO - Transcription successful: Wczoraj kupi³em spodnie za 16,50 w M&S.
...
2025-04-24 13:24:27,447 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:24:27,616 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:24:27,800 - db_manager - INFO - Added expense record with ID: 13
2025-04-24 13:24:27,960 - db_manager - INFO - Added expense record with ID: 14
2025-04-24 13:24:29,656 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-24 13:24:30,442 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-24 13:36:36,332 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:36:37,381 - __main__ - INFO - Model training scheduler started
2025-04-24 13:36:37,852 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:36:38,791 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:36:38,791 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:36:38,792 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:36:38,793 - discord.client - INFO - logging in using static token
2025-04-24 13:36:39,667 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 13:36:39,668 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 13:36:39,674 - werkzeug - INFO -  * Restarting with stat
2025-04-24 13:36:39,875 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 4b4800fd414d47cd85fad8fe4361f771).
2025-04-24 13:36:43,909 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:36:44,983 - __main__ - INFO - Model training scheduler started
2025-04-24 13:36:45,430 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 13:36:46,354 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-24 13:36:46,354 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 13:36:46,355 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 13:36:46,356 - discord.client - INFO - logging in using static token
2025-04-24 13:36:47,272 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: c46ebdc2361f2d900c148f3427b97753).
2025-04-24 13:37:04,512 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:37:04,561 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 13:37:05,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:37:05,719 - transcription - INFO - Transcription successful: Kupi³em t-shirta w Lidlu za 9,50 dzisiaj.
...
2025-04-24 13:37:06,767 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:37:07,119 - db_manager - INFO - Added expense record with ID: 15
2025-04-24 13:37:07,238 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 13:37:07,239 - transcription - INFO - Transcription successful: Kupi³em t-shirta w Lidlu za 9,50 dzisiaj.
...
2025-04-24 13:37:08,584 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 13:37:08,950 - db_manager - INFO - Added expense record with ID: 16
2025-04-24 13:39:55,599 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 13:39:55] "[33mGET / HTTP/1.1[0m" 404 -
2025-04-24 13:39:55,928 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 13:39:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-24 13:40:01,671 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 13:40:01] "[33mGET / HTTP/1.1[0m" 404 -
2025-04-24 13:40:02,009 - werkzeug - INFO - 127.0.0.1 - - [24/Apr/2025 13:40:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-24 13:40:05,180 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 13:40:05] "[33mGET / HTTP/1.1[0m" 404 -
2025-04-24 13:40:05,519 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 13:40:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-24 13:58:04,784 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 4b4800fd414d47cd85fad8fe4361f771.
2025-04-24 14:00:04,488 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:00:05,575 - __main__ - INFO - Model training scheduler started
2025-04-24 14:00:06,079 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:00:06,080 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:00:06,083 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:00:06,087 - discord.client - INFO - logging in using static token
2025-04-24 14:00:06,987 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:00:06,987 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:00:06,989 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:00:07,219 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: d9cd2a21874f5f7065b6d796c41c36f3).
2025-04-24 14:00:11,126 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:00:12,171 - __main__ - INFO - Model training scheduler started
2025-04-24 14:00:12,630 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:00:12,632 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:00:12,635 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:00:12,638 - discord.client - INFO - logging in using static token
2025-04-24 14:00:13,708 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 4ab1be8079f390dc57cc48d7c5f0b2ad).
2025-04-24 14:00:42,395 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:00:42,396 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:00:43,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:00:43,682 - transcription - INFO - Transcription successful: Wczoraj zap³aci³em czynsz za dom 465 funtów.
...
2025-04-24 14:00:43,682 - discord_bot - INFO - Discord transcription: Wczoraj zap³aci³em czynsz za dom 465 funtów.

2025-04-24 14:00:43,744 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:00:43,745 - transcription - INFO - Transcription successful: Wczoraj zap³aci³em czynsz za dom 465 funtów.
...
2025-04-24 14:00:43,745 - discord_bot - INFO - Discord transcription: Wczoraj zap³aci³em czynsz za dom 465 funtów.

2025-04-24 14:00:45,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:00:45,012 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2022, 3, 9, 0, 0), 'amount': 465, 'vendor': 'czynsz', 'category': 'Rent', 'description': 'Payment for house rent'}]
2025-04-24 14:00:45,140 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:00:45,147 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2022, 3, 9, 0, 0), 'amount': 465, 'vendor': 'czynsz', 'category': 'Rent', 'description': 'Payment for house rent'}]
2025-04-24 14:00:45,414 - db_manager - INFO - Added expense record with ID: 17
2025-04-24 14:00:45,581 - db_manager - INFO - Added expense record with ID: 18
2025-04-24 14:18:30,632 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:18:31,691 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:18:32,559 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:18:32,559 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:18:32,561 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:18:36,775 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:18:37,845 - __main__ - INFO - Model training scheduler started
2025-04-24 14:18:38,406 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:18:38,407 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:18:38,410 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:18:38,414 - discord.client - INFO - logging in using static token
2025-04-24 14:18:39,421 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 7a5460ee151a1d457b4e5e161c622258).
2025-04-24 14:19:16,878 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:19:18,801 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:19:18,802 - transcription - INFO - Transcription successful: Dzisiaj zap³aci³em za internet 38 funtów.
...
2025-04-24 14:19:18,802 - discord_bot - INFO - Discord transcription: Dzisiaj zap³aci³em za internet 38 funtów.

2025-04-24 14:19:20,368 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:19:20,377 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2022, 3, 29, 0, 0), 'amount': 38, 'vendor': 'internet', 'category': 'Utilities', 'description': 'Internet payment'}]
2025-04-24 14:19:20,734 - db_manager - INFO - Added expense record with ID: 19
2025-04-24 14:22:04,260 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:22:05,325 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:22:06,183 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:22:06,183 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:22:06,184 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:22:10,346 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:22:11,384 - __main__ - INFO - Model training scheduler started
2025-04-24 14:22:11,840 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:22:11,841 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:22:11,844 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:22:11,848 - discord.client - INFO - logging in using static token
2025-04-24 14:22:12,802 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 4f10d4576106a2d072ad1202aa6ce409).
2025-04-24 14:22:37,185 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:22:38,302 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:22:38,304 - transcription - INFO - Transcription successful: Kupi³em dzisiaj bilet miesiêczny na autobus za 25,80.
...
2025-04-24 14:22:38,304 - discord_bot - INFO - Discord transcription: Kupi³em dzisiaj bilet miesiêczny na autobus za 25,80.

2025-04-24 14:22:39,518 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:22:39,522 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2022, 3, 1, 0, 0), 'amount': 25.8, 'vendor': 'autobus', 'category': 'Transportation', 'description': 'Monthly bus ticket purchase'}]
2025-04-24 14:22:39,921 - db_manager - INFO - Added expense record with ID: 20
2025-04-24 14:25:08,078 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:25:09,144 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:25:10,003 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:25:10,003 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:25:10,005 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:25:14,240 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:25:15,330 - __main__ - INFO - Model training scheduler started
2025-04-24 14:25:15,811 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:25:15,813 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:25:15,816 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:25:15,820 - discord.client - INFO - logging in using static token
2025-04-24 14:25:17,228 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 7acb6b4653b4d849185b65fd7c0d034f).
2025-04-24 14:25:50,688 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:25:51,959 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:25:51,961 - transcription - INFO - Transcription successful: Kupi³em dzisiaj kurt na Udemy za 55 funtów.
...
2025-04-24 14:25:51,961 - discord_bot - INFO - Discord transcription: Kupi³em dzisiaj kurt na Udemy za 55 funtów.

2025-04-24 14:25:51,961 - expense_extractor - ERROR - Error in extract_with_llm: module 'db_manager' has no attribute 'get_all_categories'
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 25, in extract_with_llm
    all_categories = db_manager.get_all_categories()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'db_manager' has no attribute 'get_all_categories'
2025-04-24 14:25:51,961 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:26:21,143 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:26:22,555 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:26:22,557 - transcription - INFO - Transcription successful: Kupi³em kurs komputerowy, czyli jako edukacja, dzisiaj na platformie Udemy za 55 funtów.
...
2025-04-24 14:26:22,558 - discord_bot - INFO - Discord transcription: Kupi³em kurs komputerowy, czyli jako edukacja, dzisiaj na platformie Udemy za 55 funtów.

2025-04-24 14:26:22,558 - expense_extractor - ERROR - Error in extract_with_llm: module 'db_manager' has no attribute 'get_all_categories'
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 25, in extract_with_llm
    all_categories = db_manager.get_all_categories()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'db_manager' has no attribute 'get_all_categories'
2025-04-24 14:26:22,559 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:26:46,623 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:26:47,288 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:26:47,290 - transcription - INFO - Transcription successful: Kupi³em kurs jako education na Udemy za 55 funtów. I to dzisiaj.
...
2025-04-24 14:26:47,290 - discord_bot - INFO - Discord transcription: Kupi³em kurs jako education na Udemy za 55 funtów. I to dzisiaj.

2025-04-24 14:26:47,291 - expense_extractor - ERROR - Error in extract_with_llm: module 'db_manager' has no attribute 'get_all_categories'
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 25, in extract_with_llm
    all_categories = db_manager.get_all_categories()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'db_manager' has no attribute 'get_all_categories'
2025-04-24 14:26:47,292 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:26:57,887 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:26:58,862 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:26:58,864 - transcription - INFO - Transcription successful: Dzisiaj kupi³em paliwo na Shell za 50 funtów.
...
2025-04-24 14:26:58,865 - discord_bot - INFO - Discord transcription: Dzisiaj kupi³em paliwo na Shell za 50 funtów.

2025-04-24 14:26:58,865 - expense_extractor - ERROR - Error in extract_with_llm: module 'db_manager' has no attribute 'get_all_categories'
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 25, in extract_with_llm
    all_categories = db_manager.get_all_categories()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'db_manager' has no attribute 'get_all_categories'
2025-04-24 14:26:58,867 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:30:53,076 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:30:54,208 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:30:55,089 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:30:55,089 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:30:55,096 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:31:00,496 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:31:01,571 - __main__ - INFO - Model training scheduler started
2025-04-24 14:31:02,716 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:31:02,717 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:31:02,718 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:31:02,721 - discord.client - INFO - logging in using static token
2025-04-24 14:31:03,778 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 7525dd4341c2dd695fda66189f25f10f).
2025-04-24 14:31:15,995 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:31:17,149 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:31:17,151 - transcription - INFO - Transcription successful: Dzisiaj na fal kupi³em benzynê za 35 funtów.
...
2025-04-24 14:31:17,151 - discord_bot - INFO - Discord transcription: Dzisiaj na fal kupi³em benzynê za 35 funtów.

2025-04-24 14:31:18,180 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:31:18,191 - expense_extractor - ERROR - Error in extract_with_llm: string indices must be integers, not 'str'
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 95, in extract_with_llm
    if 'date' in expense and expense['date']:
                             ~~~~~~~^^^^^^^^
TypeError: string indices must be integers, not 'str'
2025-04-24 14:31:18,194 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:34:16,662 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:34:17,713 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:34:18,568 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:34:18,568 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:34:18,569 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:34:23,021 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:34:24,072 - __main__ - INFO - Model training scheduler started
2025-04-24 14:34:24,526 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:34:24,528 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:34:24,530 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:34:24,535 - discord.client - INFO - logging in using static token
2025-04-24 14:34:25,481 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 01254614eb367057a014b8077728d3f0).
2025-04-24 14:34:42,884 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:34:44,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:34:44,126 - transcription - INFO - Transcription successful: Dzisiaj kupi³em benzynê na Tesco za 36 punktów.
...
2025-04-24 14:34:44,126 - discord_bot - INFO - Discord transcription: Dzisiaj kupi³em benzynê na Tesco za 36 punktów.

2025-04-24 14:34:45,195 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:34:45,207 - expense_extractor - ERROR - Error in extract_with_llm: string indices must be integers, not 'str'
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 103, in extract_with_llm
    if 'date' in expense and expense['date']:
                             ~~~~~~~^^^^^^^^
TypeError: string indices must be integers, not 'str'
2025-04-24 14:34:45,210 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:43:07,094 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:43:08,154 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:43:09,016 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:43:09,016 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:43:09,018 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:43:13,451 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:43:14,494 - __main__ - INFO - Model training scheduler started
2025-04-24 14:43:14,948 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:43:14,950 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:43:14,952 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:43:14,956 - discord.client - INFO - logging in using static token
2025-04-24 14:43:15,856 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 4efead0fdd0ba42dde48ec76ed9b82cf).
2025-04-24 14:43:31,159 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:43:32,374 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:43:32,375 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê na Tesco za 35 funtów.
...
2025-04-24 14:43:32,375 - discord_bot - INFO - Discord transcription: Kupi³em dzisiaj benzynê na Tesco za 35 funtów.

2025-04-24 14:43:33,835 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:43:33,840 - expense_extractor - ERROR - Expected list of expenses, got invalid JSON.
2025-04-24 14:43:33,840 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 14:45:41,939 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:45:43,019 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:45:43,875 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 14:45:43,876 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 14:45:43,880 - werkzeug - INFO -  * Restarting with stat
2025-04-24 14:45:48,441 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:45:49,493 - __main__ - INFO - Model training scheduler started
2025-04-24 14:45:49,944 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 14:45:49,944 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 14:45:49,946 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 14:45:49,948 - discord.client - INFO - logging in using static token
2025-04-24 14:45:50,953 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 63d3201bb5c0872b7f85603c23d038b3).
2025-04-24 14:46:17,040 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 14:46:18,963 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 14:46:18,967 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê na Tesco za 35 funtów.
...
2025-04-24 14:46:18,967 - discord_bot - INFO - Discord transcription: Kupi³em dzisiaj benzynê na Tesco za 35 funtów.

2025-04-24 14:46:20,400 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 14:46:20,409 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 35, 'vendor': 'Tesco', 'category': 'Fuel', 'description': 'Zakup benzyny w Tesco'}]
2025-04-24 14:46:20,761 - db_manager - INFO - Added expense record with ID: 21
2025-04-24 15:03:19,480 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 63d3201bb5c0872b7f85603c23d038b3.
2025-04-24 15:05:06,379 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:05:07,445 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 15:05:08,297 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 15:05:08,298 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 15:05:08,299 - werkzeug - INFO -  * Restarting with stat
2025-04-24 15:05:12,877 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:05:13,921 - __main__ - INFO - Model training scheduler started
2025-04-24 15:05:14,394 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:05:14,395 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 15:05:14,398 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 15:05:14,402 - discord.client - INFO - logging in using static token
2025-04-24 15:05:15,329 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 30a690f0954772a66e2b249c0c2e01f8).
2025-04-24 15:05:32,341 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:05:33,535 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:05:33,536 - transcription - INFO - Transcription successful: Wczoraj kupi³em chleb w Asda za 2,50.
...
2025-04-24 15:05:33,536 - discord_bot - INFO - Discord transcription: Wczoraj kupi³em chleb w Asda za 2,50.

2025-04-24 15:05:35,083 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:05:35,095 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 2.5, 'vendor': 'Asda', 'category': 'Groceries', 'description': 'Zakup chleba w sklepie Asda'}]
2025-04-24 15:05:35,446 - db_manager - INFO - Added expense record with ID: 22
2025-04-24 15:05:38,925 - utils.email_helper - INFO - E-mail z potwierdzeniem wys³any do robgrodev@gmail.com
2025-04-24 15:12:33,016 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:12:34,145 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 15:12:35,003 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 15:12:35,003 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 15:12:35,004 - werkzeug - INFO -  * Restarting with stat
2025-04-24 15:12:39,822 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:12:40,918 - __main__ - INFO - Model training scheduler started
2025-04-24 15:12:41,389 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:12:41,389 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 15:12:41,395 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 15:12:41,396 - discord.client - INFO - logging in using static token
2025-04-24 15:12:42,498 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: ef3366953383a3d576d8b7a8ab54c604).
2025-04-24 15:13:11,309 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:13:12,599 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:13:12,600 - transcription - INFO - Transcription successful: Tydzieñ temu kupi³em benzynê na Tesco za 32 funty.
...
2025-04-24 15:13:12,600 - discord_bot - INFO - Discord transcription: Tydzieñ temu kupi³em benzynê na Tesco za 32 funty.

2025-04-24 15:13:13,973 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:13:13,984 - expense_extractor - ERROR - Error in extract_with_llm: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 78, in extract_with_llm
    expenses = json.loads(json_str)
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-04-24 15:13:14,001 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 15:15:56,861 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:15:57,954 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 15:15:58,822 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 15:15:58,822 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 15:15:58,823 - werkzeug - INFO -  * Restarting with stat
2025-04-24 15:16:03,270 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:16:04,321 - __main__ - INFO - Model training scheduler started
2025-04-24 15:16:04,779 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 15:16:04,781 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 15:16:04,783 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 15:16:04,787 - discord.client - INFO - logging in using static token
2025-04-24 15:16:07,228 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: ec3b0be9d7bc50e0cfde0c3b1d7648a3).
2025-04-24 15:16:27,665 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:16:29,640 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:16:29,641 - transcription - INFO - Transcription successful: Wczoraj w Lidlu kupi³em d³ugopis za 2,50.
...
2025-04-24 15:16:29,641 - discord_bot - INFO - Discord transcription: Wczoraj w Lidlu kupi³em d³ugopis za 2,50.

2025-04-24 15:16:30,878 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:16:30,883 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 2.5, 'vendor': 'Lidl', 'category': 'Other', 'description': 'Zakup d³ugopisu'}]
2025-04-24 15:16:31,232 - db_manager - INFO - Added expense record with ID: 23
2025-04-24 15:16:33,685 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 15:18:40,514 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:18:41,485 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:18:41,487 - transcription - INFO - Transcription successful: Tydzieñ temu na Tesco kupi³em paliwo za 20 funtów.
...
2025-04-24 15:18:41,488 - discord_bot - INFO - Discord transcription: Tydzieñ temu na Tesco kupi³em paliwo za 20 funtów.

2025-04-24 15:18:42,745 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:18:42,749 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 17, 0, 0), 'amount': 20, 'vendor': 'Tesco', 'category': 'Fuel', 'description': 'Zakup paliwa w Tesco'}]
2025-04-24 15:18:43,097 - db_manager - INFO - Added expense record with ID: 24
2025-04-24 15:18:45,381 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 15:19:57,821 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:19:58,758 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:19:58,760 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport wydatków na paliwo. Wszystkie wydatki na paliwo.
...
2025-04-24 15:19:58,760 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila raport wydatków na paliwo. Wszystkie wydatki na paliwo.

2025-04-24 15:19:59,945 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:19:59,948 - expense_extractor - ERROR - Error in extract_with_llm: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 82, in extract_with_llm
    expenses = json.loads(json_str)
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-04-24 15:19:59,955 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 15:21:22,732 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:21:23,877 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:21:23,878 - transcription - INFO - Transcription successful: Kupi³em wczoraj w Lidlu chleb za z³oty piêædziesi¹t.
...
2025-04-24 15:21:23,878 - discord_bot - INFO - Discord transcription: Kupi³em wczoraj w Lidlu chleb za z³oty piêædziesi¹t.

2025-04-24 15:21:25,104 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:21:25,107 - expense_extractor - ERROR - Error in extract_with_llm: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 82, in extract_with_llm
    expenses = json.loads(json_str)
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-04-24 15:21:25,108 - discord_bot - INFO - Discord extracted expenses: None
2025-04-24 15:21:41,071 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:21:42,391 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:21:42,391 - transcription - INFO - Transcription successful: Kupi³em wczoraj w Lidlu chleb za 1,50 z³.
...
2025-04-24 15:21:42,391 - discord_bot - INFO - Discord transcription: Kupi³em wczoraj w Lidlu chleb za 1,50 z³.

2025-04-24 15:21:43,703 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:21:43,707 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 0.38, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Zakup chleba w Lidlu'}]
2025-04-24 15:21:44,249 - db_manager - INFO - Added expense record with ID: 25
2025-04-24 15:21:46,521 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 15:23:00,487 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:23:02,341 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:23:02,343 - transcription - INFO - Transcription successful: W niedzielê kupi³em w Mark and Spencer d¿insy za 35 funtów.
...
2025-04-24 15:23:02,343 - discord_bot - INFO - Discord transcription: W niedzielê kupi³em w Mark and Spencer d¿insy za 35 funtów.

2025-04-24 15:23:03,597 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:23:03,600 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 35, 'vendor': 'Mark and Spencer', 'category': 'Clothing', 'description': 'Zakup d¿insów w sklepie Mark and Spencer'}]
2025-04-24 15:23:03,962 - db_manager - INFO - Added expense record with ID: 26
2025-04-24 15:23:06,341 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 15:23:27,947 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:23:28,842 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:23:28,843 - transcription - INFO - Transcription successful: Ostatni¹ niedzielê kupi³em bluzkê za 15 funtów z Tesco.
...
2025-04-24 15:23:28,844 - discord_bot - INFO - Discord transcription: Ostatni¹ niedzielê kupi³em bluzkê za 15 funtów z Tesco.

2025-04-24 15:23:30,134 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:23:30,144 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 15, 'vendor': 'Tesco', 'category': 'Clothing', 'description': 'Zakup bluzki w Tesco'}]
2025-04-24 15:23:30,526 - db_manager - INFO - Added expense record with ID: 27
2025-04-24 15:23:32,765 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 15:23:56,435 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:23:57,460 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:23:57,461 - transcription - INFO - Transcription successful: 20 kwietnia kupi³em bluzkê w tecko za 8 funtów.
...
2025-04-24 15:23:57,461 - discord_bot - INFO - Discord transcription: 20 kwietnia kupi³em bluzkê w tecko za 8 funtów.

2025-04-24 15:23:58,924 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:23:58,927 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 20, 0, 0), 'amount': 8, 'vendor': 'Tecko', 'category': 'Clothing', 'description': 'Zakup bluzki w sklepie Tecko.'}]
2025-04-24 15:23:59,279 - db_manager - INFO - Added expense record with ID: 28
2025-04-24 15:24:01,559 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 15:25:08,959 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 15:25:09,753 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 15:25:09,753 - transcription - INFO - Transcription successful: Jutro kupiê bilet na autobus za 2,80 w Dundee Explore.
...
2025-04-24 15:25:09,753 - discord_bot - INFO - Discord transcription: Jutro kupiê bilet na autobus za 2,80 w Dundee Explore.

2025-04-24 15:25:10,995 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 15:25:10,996 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 2.8, 'vendor': 'Dundee Explore', 'category': 'Transportation', 'description': 'Zakup biletu na autobus'}]
2025-04-24 15:25:11,355 - db_manager - INFO - Added expense record with ID: 29
2025-04-24 15:25:13,524 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 19:57:41,153 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 19:57:42,249 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 19:57:43,134 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 19:57:43,134 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 19:57:43,139 - werkzeug - INFO -  * Restarting with stat
2025-04-24 19:57:48,420 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 19:57:49,572 - __main__ - INFO - Model training scheduler started
2025-04-24 19:57:50,526 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 19:57:50,526 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 19:57:50,527 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 19:57:50,528 - discord.client - INFO - logging in using static token
2025-04-24 19:57:51,412 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 5b60ed78eca04fc8c3dddadf71dd76b0).
2025-04-24 20:00:21,425 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:00:22,781 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:00:22,782 - transcription - INFO - Transcription successful: Witaj, pi³em kawê w Lidlu za 3,50 z³.
...
2025-04-24 20:00:22,936 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 20:00:22,936 - discord_bot - INFO - Discord transcription: Witaj, pi³em kawê w Lidlu za 3,50 z³.

2025-04-24 20:00:24,557 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 20:00:24,565 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 0.71, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Zakup kawy w Lidlu'}]
2025-04-24 20:00:24,907 - db_manager - INFO - Added expense record with ID: 30
2025-04-24 20:00:27,471 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 20:01:00,697 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:01:01,693 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:01:01,693 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków na paliwo, które s¹ w bazie danych.
...
2025-04-24 20:01:02,097 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:01:03,556 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:01:03,956 - db_manager - ERROR - Error retrieving report data: unsupported format character 'Y' (0x59) at index 81
Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 634, in get_expense_data_for_report
    cursor.execute(query, params)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 151, in execute
    query = self.mogrify(query, args)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 129, in mogrify
    query = query % self._escape_args(args, conn)
            ~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ValueError: unsupported format character 'Y' (0x59) at index 81
2025-04-24 20:01:06,676 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 20:02:06,811 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 5b60ed78eca04fc8c3dddadf71dd76b0.
2025-04-24 20:12:15,799 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 5b60ed78eca04fc8c3dddadf71dd76b0.
2025-04-24 20:14:22,894 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:14:24,119 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:14:24,981 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 20:14:24,981 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 20:14:24,982 - werkzeug - INFO -  * Restarting with stat
2025-04-24 20:14:29,909 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:14:31,002 - __main__ - INFO - Model training scheduler started
2025-04-24 20:14:31,473 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:14:31,474 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 20:14:31,476 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:14:31,480 - discord.client - INFO - logging in using static token
2025-04-24 20:14:32,426 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f74ddc0992171e7c21c269b7b03d1b5b).
2025-04-24 20:14:51,957 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:14:52,957 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:14:52,958 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków na paliwo.
...
2025-04-24 20:14:53,108 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:14:53,411 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:14:53,538 - db_manager - ERROR - Error retrieving report data: not all arguments converted during string formatting
Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 634, in get_expense_data_for_report
    cursor.execute(query, params)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 151, in execute
    query = self.mogrify(query, args)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 129, in mogrify
    query = query % self._escape_args(args, conn)
            ~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: not all arguments converted during string formatting
2025-04-24 20:14:55,909 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 20:22:56,523 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:22:57,589 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:22:58,449 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 20:22:58,449 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 20:22:58,451 - werkzeug - INFO -  * Restarting with stat
2025-04-24 20:23:03,337 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:23:04,440 - __main__ - INFO - Model training scheduler started
2025-04-24 20:23:04,906 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:23:04,907 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 20:23:04,908 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:23:04,910 - discord.client - INFO - logging in using static token
2025-04-24 20:23:05,870 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 5f8950c7db55ea1a4505077fc8491ae1).
2025-04-24 20:23:34,639 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:23:36,175 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:23:36,176 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wydatków na paliwo. Wszystkich wydatków.
...
2025-04-24 20:23:36,324 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:23:36,595 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:23:36,743 - db_manager - ERROR - Error retrieving report data: not enough arguments for format string
Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 649, in get_expense_data_for_report
    cursor.execute(query, params)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 151, in execute
    query = self.mogrify(query, args)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 129, in mogrify
    query = query % self._escape_args(args, conn)
            ~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: not enough arguments for format string
2025-04-24 20:23:39,088 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 20:25:43,802 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:25:44,954 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:25:45,817 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 20:25:45,817 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 20:25:45,819 - werkzeug - INFO -  * Restarting with stat
2025-04-24 20:25:50,800 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:25:51,912 - __main__ - INFO - Model training scheduler started
2025-04-24 20:25:52,482 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:25:52,483 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 20:25:52,486 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:25:52,489 - discord.client - INFO - logging in using static token
2025-04-24 20:25:53,501 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 609ccb7d39975c5349645e30a636b4ca).
2025-04-24 20:26:14,044 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:26:15,805 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:26:15,806 - transcription - INFO - Transcription successful: Wyœlij mi raport TDF wszystkich wydatków na paliwo.
...
2025-04-24 20:26:15,953 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:26:16,234 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:26:16,234 - report_generator - ERROR - Error generating report: 'DBManager' object has no attribute 'get_expense_data_for_report'
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 39, in generate_report
    report_data = db_manager.get_expense_data_for_report(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DBManager' object has no attribute 'get_expense_data_for_report'
2025-04-24 20:26:16,235 - report_generator - ERROR - Error sending report email: 'DBManager' object has no attribute 'get_expense_data_for_report'
2025-04-24 20:31:36,052 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:31:37,152 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:31:38,011 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 20:31:38,012 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 20:31:38,019 - werkzeug - INFO -  * Restarting with stat
2025-04-24 20:31:43,246 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:31:44,557 - __main__ - INFO - Model training scheduler started
2025-04-24 20:31:45,038 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:31:45,039 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 20:31:45,039 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:31:45,040 - discord.client - INFO - logging in using static token
2025-04-24 20:31:45,869 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 57abad2a5ff46f7ae78fc81a1bfb6c58).
2025-04-24 20:32:20,601 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:32:22,192 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:32:22,193 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków na paliwo.
...
2025-04-24 20:32:22,380 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:32:22,746 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:32:22,982 - db_manager - ERROR - Error retrieving report data: unsupported format character 'Y' (0x59) at index 81
Traceback (most recent call last):
  File "C:\_python\Expenses\db_manager.py", line 625, in get_expense_data_for_report
    cursor.execute(query, params)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 151, in execute
    query = self.mogrify(query, args)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 129, in mogrify
    query = query % self._escape_args(args, conn)
            ~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ValueError: unsupported format character 'Y' (0x59) at index 81
2025-04-24 20:32:25,105 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 20:37:17,890 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:37:18,988 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:37:19,841 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 20:37:19,841 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 20:37:19,842 - werkzeug - INFO -  * Restarting with stat
2025-04-24 20:37:25,171 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:37:26,338 - __main__ - INFO - Model training scheduler started
2025-04-24 20:37:26,911 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:37:26,912 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 20:37:26,913 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:37:26,914 - discord.client - INFO - logging in using static token
2025-04-24 20:37:27,872 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 9b5648bea0c761bb0e5bc764290c2ee0).
2025-04-24 20:37:47,417 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:37:48,526 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:37:48,527 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków na paliwo.
...
2025-04-24 20:37:48,691 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:37:49,009 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:37:49,573 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 110, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 20:37:51,746 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 20:41:00,579 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:41:01,663 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:41:01,666 - transcription - INFO - Transcription successful: I dzisiaj w Sainsbury's kupi³em herbatê za 3,50.
...
2025-04-24 20:41:01,812 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 20:41:01,812 - discord_bot - INFO - Discord transcription: I dzisiaj w Sainsbury's kupi³em herbatê za 3,50.

2025-04-24 20:41:03,248 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 20:41:03,253 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 3.5, 'vendor': "Sainsbury's", 'category': 'Groceries', 'description': "Zakup herbaty w sklepie Sainsbury's."}]
2025-04-24 20:41:03,592 - db_manager - INFO - Added expense record with ID: 31
2025-04-24 20:41:06,595 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 20:42:24,313 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:42:25,651 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:42:25,652 - transcription - INFO - Transcription successful: Wczoraj w Lidlu kupi³em ziemniaki za 2,50, herbatê za 2,50 i piwo za 15.
...
2025-04-24 20:42:25,967 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 20:42:25,967 - discord_bot - INFO - Discord transcription: Wczoraj w Lidlu kupi³em ziemniaki za 2,50, herbatê za 2,50 i piwo za 15.

2025-04-24 20:42:27,235 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 20:42:27,240 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 20.0, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Zakup ziemniaków, herbaty i piwa w Lidlu'}]
2025-04-24 20:42:27,579 - db_manager - INFO - Added expense record with ID: 32
2025-04-24 20:42:29,973 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 20:54:59,653 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:55:00,731 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:55:01,594 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 20:55:01,595 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 20:55:01,596 - werkzeug - INFO -  * Restarting with stat
2025-04-24 20:55:06,483 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:55:07,551 - __main__ - INFO - Model training scheduler started
2025-04-24 20:55:08,005 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:55:08,005 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 20:55:08,006 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 20:55:08,007 - discord.client - INFO - logging in using static token
2025-04-24 20:55:08,916 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: efb5c6c5612686a5f28beeea25be4f73).
2025-04-24 20:55:26,667 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:55:27,910 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:55:27,910 - transcription - INFO - Transcription successful: Wyœlij mi raport wydatków PDF na paliwo.
...
2025-04-24 20:55:28,062 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 20:55:28,338 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:55:28,670 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 20:55:30,967 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 20:56:55,582 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:56:56,790 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:56:56,791 - transcription - INFO - Transcription successful: Ostatni poniedzia³ek w Lidlu kupi³em herbatê za 2,50 i piwo za 12.
...
2025-04-24 20:56:56,942 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 20:56:56,943 - discord_bot - INFO - Discord transcription: Ostatni poniedzia³ek w Lidlu kupi³em herbatê za 2,50 i piwo za 12.

2025-04-24 20:56:58,948 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 20:56:58,950 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 2.5, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Zakup herbaty'}, {'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 12, 'vendor': 'Lidl', 'category': 'Alcohol', 'description': 'Zakup piwa'}]
2025-04-24 20:56:59,296 - db_manager - INFO - Added expense record with ID: 33
2025-04-24 20:56:59,667 - db_manager - INFO - Added expense record with ID: 34
2025-04-24 20:57:02,569 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 20:57:50,753 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:57:52,147 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:57:52,149 - transcription - INFO - Transcription successful: Ostatni poniedzia³ek, 21 kwietnia kupi³em piwo w Tesco za 3,50, kupi³em kie³basê za 2,50 i kupi³em w...
2025-04-24 20:57:52,303 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 20:57:52,303 - discord_bot - INFO - Discord transcription: Ostatni poniedzia³ek, 21 kwietnia kupi³em piwo w Tesco za 3,50, kupi³em kie³basê za 2,50 i kupi³em whisky za 30.

2025-04-24 20:57:54,700 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 20:57:54,701 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 21, 0, 0), 'amount': 3.5, 'vendor': 'Tesco', 'category': 'Alcohol', 'description': 'Zakup piwa'}, {'date': datetime.datetime(2025, 4, 21, 0, 0), 'amount': 2.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'Zakup kie³basy'}, {'date': datetime.datetime(2025, 4, 21, 0, 0), 'amount': 30, 'vendor': 'Tesco', 'category': 'Alcohol', 'description': 'Zakup whisky'}]
2025-04-24 20:57:55,043 - db_manager - INFO - Added expense record with ID: 35
2025-04-24 20:57:55,380 - db_manager - INFO - Added expense record with ID: 36
2025-04-24 20:57:55,717 - db_manager - INFO - Added expense record with ID: 37
2025-04-24 20:57:57,964 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 20:58:38,715 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:58:39,618 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:58:39,619 - transcription - INFO - Transcription successful: Wyœlij mi raport w Excelu zakupów herbaty.
...
2025-04-24 20:58:39,766 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 20:58:39,766 - discord_bot - INFO - Discord transcription: Wyœlij mi raport w Excelu zakupów herbaty.

2025-04-24 20:58:40,915 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 20:58:40,925 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 0, 'vendor': 'nieznany', 'category': 'Other', 'description': 'Zakup herbaty'}]
2025-04-24 20:58:41,280 - db_manager - INFO - Added expense record with ID: 38
2025-04-24 20:58:43,450 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 20:59:34,908 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 20:59:35,950 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 20:59:35,950 - transcription - INFO - Transcription successful: Wyœlij mi w Excelu raport zakupów t³uchów, clothing ze wszystkich miesiêcy.
...
2025-04-24 20:59:36,096 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Clothing
2025-04-24 20:59:36,368 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 20:59:36,643 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 20:59:38,928 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 21:00:42,769 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:00:44,322 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:00:44,323 - transcription - INFO - Transcription successful: Wyœlij mi poprzedni raport Clothing PDF z podsumowaniami.
...
2025-04-24 21:00:44,499 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Clothing
2025-04-24 21:00:44,761 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 21:00:45,054 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 21:00:47,275 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 21:05:38,476 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:05:39,376 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:05:39,377 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków z podzia³em na kategorie.
...
2025-04-24 21:05:39,526 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 21:05:39,526 - discord_bot - INFO - Discord transcription: Wyœlij mi raport PDF wszystkich wydatków z podzia³em na kategorie.

2025-04-24 21:05:40,170 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 21:05:40,179 - discord_bot - INFO - Discord extracted expenses: []
2025-04-24 21:06:21,217 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:06:22,331 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:06:22,331 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF z wszystkich wydatków w kategorii groceries.
...
2025-04-24 21:06:22,508 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Groceries
2025-04-24 21:06:22,780 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 21:06:23,056 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 21:06:25,922 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 21:08:00,634 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:08:01,588 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:08:01,589 - transcription - INFO - Transcription successful: Wczoraj w Tesco kupi³em kie³basê za 3,50, d¿insy za 15 i whisky za 35.
...
2025-04-24 21:08:01,738 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 21:08:01,738 - discord_bot - INFO - Discord transcription: Wczoraj w Tesco kupi³em kie³basê za 3,50, d¿insy za 15 i whisky za 35.

2025-04-24 21:08:04,927 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 21:08:04,934 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 3.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'Zakup kie³basy'}, {'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 15, 'vendor': 'Tesco', 'category': 'Clothing', 'description': 'Zakup d¿insów'}, {'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 35, 'vendor': 'Tesco', 'category': 'Alcohol', 'description': 'Zakup whisky'}]
2025-04-24 21:08:05,280 - db_manager - INFO - Added expense record with ID: 39
2025-04-24 21:08:05,622 - db_manager - INFO - Added expense record with ID: 40
2025-04-24 21:08:05,963 - db_manager - INFO - Added expense record with ID: 41
2025-04-24 21:08:08,165 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 21:08:25,955 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:08:27,167 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:08:27,168 - transcription - INFO - Transcription successful: Wyœlij mi raport pdf z wszystkich groceries.
...
2025-04-24 21:08:27,323 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Groceries
2025-04-24 21:08:27,603 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 21:08:27,885 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 21:08:29,957 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 21:09:47,019 - discord.gateway - INFO - Shard ID None has successfully RESUMED session efb5c6c5612686a5f28beeea25be4f73.
2025-04-24 21:16:33,025 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:16:34,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:16:34,025 - transcription - INFO - Transcription successful: Wczoraj w Sainsbury's kupi³em cebulê na 70p, pomidora na 1,30p i piwo na 12p.
...
2025-04-24 21:16:34,219 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 21:16:34,219 - discord_bot - INFO - Discord transcription: Wczoraj w Sainsbury's kupi³em cebulê na 70p, pomidora na 1,30p i piwo na 12p.

2025-04-24 21:16:36,898 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 21:16:36,900 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 0.7, 'vendor': "Sainsbury's", 'category': 'Groceries', 'description': 'Zakup cebuli'}, {'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 1.3, 'vendor': "Sainsbury's", 'category': 'Groceries', 'description': 'Zakup pomidora'}, {'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 12.0, 'vendor': "Sainsbury's", 'category': 'Alcohol', 'description': 'Zakup piwa'}]
2025-04-24 21:16:37,238 - db_manager - INFO - Added expense record with ID: 42
2025-04-24 21:16:37,579 - db_manager - INFO - Added expense record with ID: 43
2025-04-24 21:16:37,917 - db_manager - INFO - Added expense record with ID: 44
2025-04-24 21:16:40,885 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 21:26:11,882 - discord.gateway - INFO - Shard ID None has successfully RESUMED session efb5c6c5612686a5f28beeea25be4f73.
2025-04-24 21:29:44,051 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 21:29:45,741 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 21:29:45,741 - transcription - INFO - Transcription successful: Wyœlij mi raport pdf wydatków na paliwo wszystkich.
...
2025-04-24 21:29:45,941 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-24 21:29:46,214 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 21:29:46,509 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 21:29:48,684 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-24 22:02:06,203 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:02:07,396 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 22:02:08,269 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 22:02:08,270 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 22:02:08,271 - werkzeug - INFO -  * Restarting with stat
2025-04-24 22:02:13,734 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:02:14,917 - __main__ - INFO - Model training scheduler started
2025-04-24 22:02:15,406 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:02:15,406 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 22:02:15,407 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 22:02:15,408 - discord.client - INFO - logging in using static token
2025-04-24 22:02:16,372 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 509b898e706f018a2a27c986f1813b84).
2025-04-24 22:02:44,717 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 22:02:45,751 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 22:02:45,753 - transcription - INFO - Transcription successful: Wczoraj w Morrisons kupi³em piwo za 12, kie³basy za 3,50 i spodnie za 30.
...
2025-04-24 22:02:45,901 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 22:02:45,901 - discord_bot - INFO - Discord transcription: Wczoraj w Morrisons kupi³em piwo za 12, kie³basy za 3,50 i spodnie za 30.

2025-04-24 22:02:48,338 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 22:02:48,341 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 12, 'vendor': 'Morrisons', 'category': 'Alcohol', 'description': 'Bought beer'}, {'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 3.5, 'vendor': 'Morrisons', 'category': 'Groceries', 'description': 'Bought sausages'}, {'date': datetime.datetime(2025, 4, 23, 0, 0), 'amount': 30, 'vendor': 'Morrisons', 'category': 'Clothing', 'description': 'Bought trousers'}]
2025-04-24 22:02:48,693 - db_manager - INFO - Added expense record with ID: 45
2025-04-24 22:02:49,031 - db_manager - INFO - Added expense record with ID: 46
2025-04-24 22:02:49,379 - db_manager - INFO - Added expense record with ID: 47
2025-04-24 22:02:51,850 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 22:04:35,387 - discord.gateway - WARNING - Can't keep up, shard ID None websocket is 15.4s behind.
2025-04-24 22:06:00,503 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 22:06:00] "[33mGET / HTTP/1.1[0m" 404 -
2025-04-24 22:06:18,834 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 22:06:18] "[33mGET / HTTP/1.1[0m" 404 -
2025-04-24 22:06:18,888 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 22:06:18] "[33mGET /loginMsg.js HTTP/1.1[0m" 404 -
2025-04-24 22:06:18,936 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 22:06:18] "[33mGET /cgi/get.cgi?cmd=home_login HTTP/1.1[0m" 404 -
2025-04-24 22:06:19,593 - werkzeug - INFO - 192.168.1.190 - - [24/Apr/2025 22:06:19] "[33mPOST /boaform/formPing HTTP/1.1[0m" 404 -
2025-04-24 22:07:01,037 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:07:02,089 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 22:07:02,950 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-24 22:07:02,950 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-24 22:07:02,951 - werkzeug - INFO -  * Restarting with stat
2025-04-24 22:07:07,921 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:07:08,978 - __main__ - INFO - Model training scheduler started
2025-04-24 22:07:09,425 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:07:09,427 - __main__ - INFO - Starting Discord bot in background thread
2025-04-24 22:07:09,429 - __main__ - INFO - Starting Flask application on port 5000
2025-04-24 22:07:09,433 - discord.client - INFO - logging in using static token
2025-04-24 22:07:10,484 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 3431c917acb534cd951bdc2cdd1ac603).
2025-04-24 22:07:43,634 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 22:07:44,799 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 22:07:44,799 - transcription - INFO - Transcription successful: Tydzieñ temu w sklepie Spar kupi³em piwo za 12, spodnie za 15 i ziemniaków za 24.
...
2025-04-24 22:07:44,946 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 22:07:44,946 - discord_bot - INFO - Discord transcription: Tydzieñ temu w sklepie Spar kupi³em piwo za 12, spodnie za 15 i ziemniaków za 24.

2025-04-24 22:07:47,140 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 22:07:47,149 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 17, 0, 0), 'amount': 12, 'vendor': 'Spar', 'category': 'Alcohol', 'description': 'beer'}, {'date': datetime.datetime(2025, 4, 17, 0, 0), 'amount': 15, 'vendor': 'Spar', 'category': 'Clothing', 'description': 'trousers'}, {'date': datetime.datetime(2025, 4, 17, 0, 0), 'amount': 24, 'vendor': 'Spar', 'category': 'Groceries', 'description': 'potatoes'}]
2025-04-24 22:07:47,516 - db_manager - INFO - Added expense record with ID: 48
2025-04-24 22:07:47,866 - db_manager - INFO - Added expense record with ID: 49
2025-04-24 22:07:48,214 - db_manager - INFO - Added expense record with ID: 50
2025-04-24 22:07:50,394 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 22:08:25,374 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 22:08:26,414 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 22:08:26,415 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków w kategorii alkohol.
...
2025-04-24 22:08:26,564 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-24 22:08:26,564 - discord_bot - INFO - Discord transcription: Wyœlij mi raport PDF wszystkich wydatków w kategorii alkohol.

2025-04-24 22:08:27,834 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-24 22:08:27,837 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 0, 'vendor': 'Not specified', 'category': 'Alcohol', 'description': 'Report'}]
2025-04-24 22:08:28,193 - db_manager - INFO - Added expense record with ID: 51
2025-04-24 22:08:30,402 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-24 22:09:18,331 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-24 22:09:19,501 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-24 22:09:19,502 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków z kategorii clothing.
...
2025-04-24 22:09:19,648 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Clothing
2025-04-24 22:09:19,917 - db_manager - INFO - Database schema verification completed successfully
2025-04-24 22:09:20,292 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-24 22:09:22,410 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-25 22:13:26,914 - db_manager - INFO - Database schema verification completed successfully
2025-04-25 22:13:28,133 - __main__ - INFO - Starting Flask application on port 5000
2025-04-25 22:13:29,027 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-04-25 22:13:29,027 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-25 22:13:29,032 - werkzeug - INFO -  * Restarting with stat
2025-04-25 22:13:34,460 - db_manager - INFO - Database schema verification completed successfully
2025-04-25 22:13:35,525 - __main__ - INFO - Model training scheduler started
2025-04-25 22:13:36,577 - db_manager - INFO - Database schema verification completed successfully
2025-04-25 22:13:36,579 - __main__ - INFO - Starting Discord bot in background thread
2025-04-25 22:13:36,581 - __main__ - INFO - Starting Flask application on port 5000
2025-04-25 22:13:36,585 - discord.client - INFO - logging in using static token
2025-04-25 22:13:37,603 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 84758e13955920f884f16813a9afa8ac).
2025-04-25 22:14:02,993 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:14:04,568 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:14:04,570 - transcription - INFO - Transcription successful: A¿ da, benzyna czterdzieœci.
...
2025-04-25 22:14:04,722 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:14:04,723 - discord_bot - INFO - Discord transcription: A¿ da, benzyna czterdzieœci.

2025-04-25 22:14:06,467 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:14:06,471 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 40, 'vendor': 'A¿ da', 'category': 'Fuel', 'description': 'fuel'}]
2025-04-25 22:14:06,850 - db_manager - INFO - Added expense record with ID: 52
2025-04-25 22:14:09,380 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:14:49,741 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:14:50,958 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:14:50,959 - transcription - INFO - Transcription successful: A, Z, D, benzyna, czterdzieœci, fuel.
...
2025-04-25 22:14:51,112 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:14:51,112 - discord_bot - INFO - Discord transcription: A, Z, D, benzyna, czterdzieœci, fuel.

2025-04-25 22:14:52,251 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:14:52,255 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 40, 'vendor': 'D', 'category': 'Fuel', 'description': 'fuel'}]
2025-04-25 22:14:52,625 - db_manager - INFO - Added expense record with ID: 53
2025-04-25 22:14:55,551 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:15:31,857 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:15:32,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:15:32,877 - transcription - INFO - Transcription successful: Tydzieñ temu benzyna za 40 funtów na Tesco.
...
2025-04-25 22:15:33,025 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:15:33,026 - discord_bot - INFO - Discord transcription: Tydzieñ temu benzyna za 40 funtów na Tesco.

2025-04-25 22:15:34,320 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:15:34,321 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 18, 0, 0), 'amount': 40, 'vendor': 'Tesco', 'category': 'Fuel', 'description': 'fuel'}]
2025-04-25 22:15:34,658 - db_manager - INFO - Added expense record with ID: 54
2025-04-25 22:15:37,031 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:16:39,411 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:16:40,387 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:16:40,389 - transcription - INFO - Transcription successful: Kupi³em na AŸdzie paliwo za 40 funtów.
...
2025-04-25 22:16:50,547 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:16:50,547 - discord_bot - INFO - Discord transcription: Kupi³em na AŸdzie paliwo za 40 funtów.

2025-04-25 22:17:01,610 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:17:01,611 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 40, 'vendor': 'AŸda', 'category': 'Fuel', 'description': 'fuel'}]
2025-04-25 22:17:13,760 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 136, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 46, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 87, in process_discord_audio
    expense_id = db_manager.add_expense(
  File "C:\_python\Expenses\db_manager.py", line 166, in add_expense
    with self._get_connection() as conn:
  File "C:\_python\Expenses\db_manager.py", line 24, in _get_connection
    return pymysql.connect(
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 850, in create_connection
    sock.connect(sa)

2025-04-25 22:17:22,005 - db_manager - INFO - Added expense record with ID: 55
2025-04-25 22:17:43,366 - utils.email_helper - ERROR - Nie uda³o siê wys³aæ e-maila: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-25 22:17:43,369 - discord.gateway - WARNING - Can't keep up, shard ID None websocket is 21.2s behind.
2025-04-25 22:17:43,371 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 84758e13955920f884f16813a9afa8ac.
2025-04-25 22:19:02,624 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:19:03,939 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:19:03,941 - transcription - INFO - Transcription successful: Ej, to siê sta³o p³atnoœci¹ za paliwo w plazê za 40 funtów.
...
2025-04-25 22:19:04,135 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:19:04,135 - discord_bot - INFO - Discord transcription: Ej, to siê sta³o p³atnoœci¹ za paliwo w plazê za 40 funtów.

2025-04-25 22:19:05,241 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:19:05,245 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 40, 'vendor': 'plaza', 'category': 'Fuel', 'description': 'fuel'}]
2025-04-25 22:19:05,590 - db_manager - INFO - Added expense record with ID: 56
2025-04-25 22:19:08,281 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:19:44,736 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:19:45,694 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:19:45,694 - transcription - INFO - Transcription successful: Czy mo¿esz usun¹æ ostatni rekord z bazy danych? Bo to jest nieprawda. Nie ma 40 funtów.
...
2025-04-25 22:19:45,842 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:19:45,843 - discord_bot - INFO - Discord transcription: Czy mo¿esz usun¹æ ostatni rekord z bazy danych? Bo to jest nieprawda. Nie ma 40 funtów.

2025-04-25 22:19:46,842 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:19:46,846 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 40, 'vendor': 'Unknown', 'category': 'Other', 'description': 'Record'}]
2025-04-25 22:19:47,207 - db_manager - INFO - Added expense record with ID: 57
2025-04-25 22:19:49,586 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:22:25,116 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:22:26,487 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:22:26,488 - transcription - INFO - Transcription successful: Wczoraj kupi³em w Lidlu piwo za 15,20.
...
2025-04-25 22:22:36,653 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:22:36,653 - discord_bot - INFO - Discord transcription: Wczoraj kupi³em w Lidlu piwo za 15,20.

2025-04-25 22:22:47,834 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:22:47,837 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 24, 0, 0), 'amount': 15.2, 'vendor': 'Lidl', 'category': 'Alcohol', 'description': 'beer'}]
2025-04-25 22:23:02,259 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 136, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 906, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 46, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 87, in process_discord_audio
    expense_id = db_manager.add_expense(
  File "C:\_python\Expenses\db_manager.py", line 166, in add_expense
    with self._get_connection() as conn:
  File "C:\_python\Expenses\db_manager.py", line 24, in _get_connection
    return pymysql.connect(
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 361, in __init__
    self.connect()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 649, in connect
    sock = socket.create_connection(
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 850, in create_connection
    sock.connect(sa)

2025-04-25 22:23:08,196 - db_manager - INFO - Added expense record with ID: 58
2025-04-25 22:23:29,543 - utils.email_helper - ERROR - Nie uda³o siê wys³aæ e-maila: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c0b::6c (2a00:1450:400c:c0b::6c:587), connect error 10060')
2025-04-25 22:23:29,546 - discord.gateway - WARNING - Can't keep up, shard ID None websocket is 21.1s behind.
2025-04-25 22:23:29,547 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 84758e13955920f884f16813a9afa8ac.
2025-04-25 22:23:59,410 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:24:01,215 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:24:01,217 - transcription - INFO - Transcription successful: Czy mo¿esz mi wygenerowaæ raport z wydatkami na alkohol?
...
2025-04-25 22:24:01,390 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:24:01,390 - discord_bot - INFO - Discord transcription: Czy mo¿esz mi wygenerowaæ raport z wydatkami na alkohol?

2025-04-25 22:24:02,336 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:24:02,339 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'N/A', 'category': 'Alcohol', 'description': 'report'}]
2025-04-25 22:24:02,686 - db_manager - INFO - Added expense record with ID: 59
2025-04-25 22:24:06,069 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:24:55,371 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:24:56,847 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:24:56,848 - transcription - INFO - Transcription successful: W³aœnie raport w PDF wydatków na alkohol. Wszystkie wydatki.
...
2025-04-25 22:24:57,039 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:24:57,040 - discord_bot - INFO - Discord transcription: W³aœnie raport w PDF wydatków na alkohol. Wszystkie wydatki.

2025-04-25 22:24:58,239 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:24:58,242 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Alcohol', 'description': 'report'}]
2025-04-25 22:24:58,681 - db_manager - INFO - Added expense record with ID: 60
2025-04-25 22:25:02,736 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:26:05,709 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:26:06,547 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:26:06,548 - transcription - INFO - Transcription successful: WeŸcie mi rapy w pdf odnoœnie wydatków na alkohol we wszystkich strukturach.
...
2025-04-25 22:26:06,697 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:26:06,698 - discord_bot - INFO - Discord transcription: WeŸcie mi rapy w pdf odnoœnie wydatków na alkohol we wszystkich strukturach.

2025-04-25 22:26:07,960 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:26:07,962 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'unknown', 'category': 'Alcohol', 'description': 'rapy'}]
2025-04-25 22:26:08,234 - db_manager - WARNING - Duplicate expense detected: 2025-04-25 00:00:00, 0, unknown, Alcohol
2025-04-25 22:26:11,427 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:27:13,994 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:27:14,920 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:27:14,921 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport PDF wydatki wszystkich, je¿eli chodzi o paliwo.
...
2025-04-25 22:27:15,072 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-04-25 22:27:15,396 - db_manager - INFO - Database schema verification completed successfully
2025-04-25 22:27:15,945 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-25 22:27:18,245 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-25 22:30:04,863 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:30:05,642 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:30:05,643 - transcription - INFO - Transcription successful: Wyœlij mi raport wszystkich wydatków na ciuchy, czyli clothes.
...
2025-04-25 22:30:05,837 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:30:05,837 - discord_bot - INFO - Discord transcription: Wyœlij mi raport wszystkich wydatków na ciuchy, czyli clothes.

2025-04-25 22:30:06,897 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:30:06,898 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'unknown', 'category': 'Clothing', 'description': 'clothes'}]
2025-04-25 22:30:07,245 - db_manager - INFO - Added expense record with ID: 61
2025-04-25 22:30:10,330 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:30:54,264 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:30:55,426 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:30:55,426 - transcription - INFO - Transcription successful: Podkreœlmy mi raport PDF z wydatkami po kategorii ciuchy, czyli cloth.
...
2025-04-25 22:30:55,592 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:30:55,592 - discord_bot - INFO - Discord transcription: Podkreœlmy mi raport PDF z wydatkami po kategorii ciuchy, czyli cloth.

2025-04-25 22:30:56,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:30:56,772 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Clothing', 'description': 'report'}]
2025-04-25 22:30:56,930 - db_manager - WARNING - Duplicate expense detected: 2025-04-25 00:00:00, 0, Unknown, Clothing
2025-04-25 22:31:01,515 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:31:29,626 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:31:30,756 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:31:30,757 - transcription - INFO - Transcription successful: Czy mogê im powiedzieæ, ile wyda³em na tuchy w tych wszystkich miesi¹cach?
...
2025-04-25 22:31:30,912 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:31:30,913 - discord_bot - INFO - Discord transcription: Czy mogê im powiedzieæ, ile wyda³em na tuchy w tych wszystkich miesi¹cach?

2025-04-25 22:31:32,089 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:31:32,090 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'tuchy', 'category': 'Other', 'description': 'purchase'}]
2025-04-25 22:31:32,436 - db_manager - INFO - Added expense record with ID: 62
2025-04-25 22:31:34,841 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:32:03,464 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:32:04,943 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:32:04,943 - transcription - INFO - Transcription successful: Wydaje mi siê, ¿e je¿eli chodzi o zakupy clothing, to by³o du¿o wiêcej ni¿ zero.
...
2025-04-25 22:32:05,090 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:32:05,090 - discord_bot - INFO - Discord transcription: Wydaje mi siê, ¿e je¿eli chodzi o zakupy clothing, to by³o du¿o wiêcej ni¿ zero.

2025-04-25 22:32:06,431 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:32:06,433 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 0, 'vendor': 'unknown', 'category': 'Clothing', 'description': 'clothing'}]
2025-04-25 22:32:06,581 - db_manager - WARNING - Duplicate expense detected: 2025-04-25 00:00:00, 0, unknown, Clothing
2025-04-25 22:32:08,859 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:32:42,845 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:32:44,028 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:32:44,028 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF zestawienia sprzeda¿y, zakupów, jeœli chodzi o ciuchy, czyli pod kategorii clot...
2025-04-25 22:32:44,176 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Clothing
2025-04-25 22:32:44,443 - db_manager - INFO - Database schema verification completed successfully
2025-04-25 22:32:44,716 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-04-25 22:32:46,894 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-04-25 22:33:51,081 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:33:51,760 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:33:51,760 - transcription - INFO - Transcription successful: Kupi³em benzynê na Asda za 30 funtów.
...
2025-04-25 22:33:51,907 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:33:51,907 - discord_bot - INFO - Discord transcription: Kupi³em benzynê na Asda za 30 funtów.

2025-04-25 22:33:53,085 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:33:53,087 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 30, 'vendor': 'Asda', 'category': 'Fuel', 'description': 'fuel'}]
2025-04-25 22:33:53,433 - db_manager - INFO - Added expense record with ID: 63
2025-04-25 22:33:55,592 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 22:34:20,829 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-04-25 22:34:21,921 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-25 22:34:21,923 - transcription - INFO - Transcription successful: Ale to by³o za czterdzieœci, nie trzydzieœci.
...
2025-04-25 22:34:22,072 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-04-25 22:34:22,072 - discord_bot - INFO - Discord transcription: Ale to by³o za czterdzieœci, nie trzydzieœci.

2025-04-25 22:34:23,304 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-25 22:34:23,307 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 4, 25, 0, 0), 'amount': 40, 'vendor': 'unknown', 'category': 'Other', 'description': 'purchase'}]
2025-04-25 22:34:23,454 - db_manager - WARNING - Duplicate expense detected: 2025-04-25 00:00:00, 40, unknown, Other
2025-04-25 22:34:25,747 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-04-25 23:45:41,088 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 84758e13955920f884f16813a9afa8ac.
2025-05-01 14:14:31,222 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 14:14:32,347 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 14:14:33,190 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 14:14:33,190 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 14:18:26,931 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 14:18:27,994 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 14:18:28,835 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 14:18:28,835 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 14:22:35,796 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 14:22:35] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-01 14:22:36,140 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 14:22:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-01 14:22:39,380 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:22:39] "[33mGET / HTTP/1.1[0m" 404 -
2025-05-01 14:22:39,723 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:22:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-01 14:25:28,797 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 14:25:29,841 - __main__ - INFO - Model training scheduler started
2025-05-01 14:25:30,854 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 14:25:30,856 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 14:25:30,858 - __main__ - INFO - Discord bot started
2025-05-01 14:25:30,859 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 14:25:30,862 - discord.client - INFO - logging in using static token
2025-05-01 14:25:31,707 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 14:25:31,707 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 14:25:31,840 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 1e20c3042b90cee959117fe71192741b).
2025-05-01 14:26:33,412 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 14:26:35,081 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 14:26:35,083 - transcription - INFO - Transcription successful: Kupi³em paliwo na Asda dzisiaj za 15 funtów.
...
2025-05-01 14:26:35,234 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-01 14:26:35,234 - discord_bot - INFO - Discord transcription: Kupi³em paliwo na Asda dzisiaj za 15 funtów.

2025-05-01 14:26:36,580 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 14:26:36,596 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 1, 0, 0), 'amount': 15, 'vendor': 'Asda', 'category': 'Fuel', 'description': 'fuel'}]
2025-05-01 14:26:36,948 - db_manager - INFO - Added expense record with ID: 64
2025-05-01 14:26:39,253 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-01 14:30:05,973 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 14:30:07,059 - __main__ - INFO - Model training scheduler started
2025-05-01 14:30:07,512 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 14:30:07,513 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 14:30:07,513 - __main__ - INFO - Discord bot started
2025-05-01 14:30:07,514 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 14:30:07,514 - discord.client - INFO - logging in using static token
2025-05-01 14:30:08,371 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 14:30:08,371 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 14:30:08,454 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 4da81b1f31e45736870b7bcf55d6254a).
2025-05-01 14:30:22,996 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:30:22] "GET / HTTP/1.1" 200 -
2025-05-01 14:32:04,314 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:32:04] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-01 14:32:12,640 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:32:12] "GET /api/view-expenses?page=1&per_page=10&category=Fuel HTTP/1.1" 200 -
2025-05-01 14:32:15,609 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:32:15] "GET /api/view-expenses?page=2&per_page=10&category=Fuel HTTP/1.1" 200 -
2025-05-01 14:32:20,478 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:32:20] "GET /api/view-expenses?page=1&per_page=10&category=Fuel HTTP/1.1" 200 -
2025-05-01 14:32:45,013 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 114, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-01 14:32:45,404 - db_manager - INFO - Added report record with ID: 1
2025-05-01 14:32:47,695 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:32:47] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-01 14:36:47,190 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 14:36:47] "[33mPOST /api/process-manual-expense HTTP/1.1[0m" 404 -
2025-05-01 17:45:08,420 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 17:45:09,571 - __main__ - INFO - Model training scheduler started
2025-05-01 17:45:10,508 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 17:45:10,508 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 17:45:10,509 - __main__ - INFO - Discord bot started
2025-05-01 17:45:10,509 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 17:45:10,511 - discord.client - INFO - logging in using static token
2025-05-01 17:45:11,355 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 17:45:11,356 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 17:45:11,527 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: d913d3d83948770eea50d090eb52b4ea).
2025-05-01 17:49:11,129 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 17:49:17,021 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 17:49:17,021 - transcription - INFO - Transcription successful: Kupi³em dzisiaj lasagne w Lidlu za 3,50.
...
2025-05-01 17:49:17,170 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-01 17:49:17,170 - discord_bot - INFO - Discord transcription: Kupi³em dzisiaj lasagne w Lidlu za 3,50.

2025-05-01 17:49:18,810 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 17:49:18,817 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 1, 0, 0), 'amount': 3.5, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'lasagne'}]
2025-05-01 17:49:19,159 - db_manager - INFO - Added expense record with ID: 65
2025-05-01 17:49:21,434 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-01 18:03:50,365 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:03:50] "[33mPOST /api/process-manual-expense HTTP/1.1[0m" 404 -
2025-05-01 18:06:26,401 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 18:06:27,425 - __main__ - INFO - Model training scheduler started
2025-05-01 18:06:27,922 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 18:06:27,922 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 18:06:27,923 - __main__ - INFO - Discord bot started
2025-05-01 18:06:27,923 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 18:06:27,926 - discord.client - INFO - logging in using static token
2025-05-01 18:06:28,774 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 18:06:28,774 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 18:06:28,884 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 228509dd0f5691038d010b336bb23e61).
2025-05-01 18:06:37,662 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:06:37] "GET / HTTP/1.1" 200 -
2025-05-01 18:06:58,033 - db_manager - INFO - Added expense record with ID: 66
2025-05-01 18:06:58,034 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:06:58] "POST /api/process-manual-expense HTTP/1.1" 200 -
2025-05-01 18:07:07,636 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:07:07] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-01 18:07:29,361 - report_generator - INFO - Report data - Grouped rows: 19, Detailed rows: 63
2025-05-01 18:07:29,361 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-01 18:07:29,362 - report_generator - INFO - Total amount sum: 2146.29
2025-05-01 18:07:29,696 - report_generator - ERROR - Error creating visualizations: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 128, in create_visualizations
    time_series.plot(kind='line', marker='o', color='blue', ax=plt.gca())
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-01 18:07:29,727 - report_generator - INFO - Report generated successfully: reports\expense_report_20250501_180729.pdf
2025-05-01 18:07:29,910 - db_manager - INFO - Added report record with ID: 2
2025-05-01 18:07:32,037 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:07:32] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-01 18:25:28,225 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 18:25:29,207 - __main__ - INFO - Model training scheduler started
2025-05-01 18:25:29,707 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 18:25:29,708 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 18:25:29,711 - __main__ - INFO - Discord bot started
2025-05-01 18:25:29,711 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 18:25:29,717 - discord.client - INFO - logging in using static token
2025-05-01 18:25:30,571 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 18:25:30,571 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 18:25:30,708 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 04ef4c1a9d7ebddfee00f71270e55ebe).
2025-05-01 18:25:43,987 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:25:43] "GET / HTTP/1.1" 200 -
2025-05-01 18:25:59,873 - report_generator - INFO - Report data - Grouped rows: 19, Detailed rows: 63
2025-05-01 18:25:59,873 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-01 18:25:59,874 - report_generator - INFO - Total amount sum: 2146.29
2025-05-01 18:25:59,874 - report_generator - INFO - Creating time chart. Data shape: (19, 5)
2025-05-01 18:25:59,875 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-01 18:25:59,875 - report_generator - INFO - Total amount sum: 2146.29
2025-05-01 18:25:59,875 - report_generator - INFO - Time series data for category '': {'2022-03': Decimal('1274.70'), '2022-10': Decimal('53.00'), '2025-04': Decimal('800.09'), '2025-05': Decimal('18.50')}
2025-05-01 18:26:00,011 - report_generator - INFO - Successfully created time chart for category ''
2025-05-01 18:26:00,012 - report_generator - INFO - Category totals: {'Alcohol': Decimal('146.70'), 'Clothing': Decimal('325.00'), 'Cosmetics': Decimal('30.00'), 'Fuel': Decimal('526.00'), 'Groceries': Decimal('68.59'), 'Office supplies': Decimal('13.40'), 'Other': Decimal('40.00'), 'Rent': Decimal('930.00'), 'Transportation': Decimal('28.60'), 'Utilities': Decimal('38.00')}
2025-05-01 18:26:00,103 - report_generator - INFO - Category pie chart created successfully
2025-05-01 18:26:00,109 - report_generator - ERROR - Error creating comparison chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 261, in create_visualizations
    monthly_totals.plot(kind='bar', color='skyblue', ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-01 18:26:00,287 - report_generator - INFO - Report generated successfully: reports\expense_report_20250501_182559.xlsx
2025-05-01 18:26:00,460 - db_manager - INFO - Added report record with ID: 3
2025-05-01 18:26:03,295 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:26:03] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-01 18:28:36,052 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 18:28:37,035 - __main__ - INFO - Model training scheduler started
2025-05-01 18:28:37,543 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 18:28:37,544 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 18:28:37,547 - __main__ - INFO - Discord bot started
2025-05-01 18:28:37,548 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 18:28:37,556 - discord.client - INFO - logging in using static token
2025-05-01 18:28:38,397 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 18:28:38,398 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 18:28:38,486 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 5d05a9cf7fefd6105395779b2947050b).
2025-05-01 18:28:44,769 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:28:44] "GET / HTTP/1.1" 200 -
2025-05-01 18:28:52,057 - report_generator - INFO - Report data - Grouped rows: 19, Detailed rows: 63
2025-05-01 18:28:52,057 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-01 18:28:52,057 - report_generator - INFO - Total amount sum: 2146.29
2025-05-01 18:28:52,058 - report_generator - INFO - Creating time chart. Data shape: (19, 5)
2025-05-01 18:28:52,058 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-01 18:28:52,058 - report_generator - INFO - Total amount sum: 2146.29
2025-05-01 18:28:52,059 - report_generator - INFO - Time series data for category '': {'2022-03': Decimal('1274.70'), '2022-10': Decimal('53.00'), '2025-04': Decimal('800.09'), '2025-05': Decimal('18.50')}
2025-05-01 18:28:52,194 - report_generator - INFO - Successfully created time chart for category ''
2025-05-01 18:28:52,194 - report_generator - INFO - Category totals: {'Alcohol': Decimal('146.70'), 'Clothing': Decimal('325.00'), 'Cosmetics': Decimal('30.00'), 'Fuel': Decimal('526.00'), 'Groceries': Decimal('68.59'), 'Office supplies': Decimal('13.40'), 'Other': Decimal('40.00'), 'Rent': Decimal('930.00'), 'Transportation': Decimal('28.60'), 'Utilities': Decimal('38.00')}
2025-05-01 18:28:52,285 - report_generator - INFO - Category pie chart created successfully
2025-05-01 18:28:52,291 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-01 18:28:52,291 - report_generator - INFO - Monthly totals values: {'2022-03': 1274.7, '2022-10': 53.0, '2025-04': 800.09, '2025-05': 18.5}
2025-05-01 18:28:52,304 - report_generator - INFO - Created bar chart for category ''
2025-05-01 18:28:52,528 - report_generator - INFO - Report generated successfully: reports\expense_report_20250501_182852.pdf
2025-05-01 18:28:52,708 - db_manager - INFO - Added report record with ID: 4
2025-05-01 18:28:55,275 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:28:55] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-01 18:29:36,440 - report_generator - INFO - Report data - Grouped rows: 2, Detailed rows: 13
2025-05-01 18:29:36,440 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-01 18:29:36,441 - report_generator - INFO - Total amount sum: 68.59
2025-05-01 18:29:36,444 - report_generator - INFO - Creating time chart. Data shape: (2, 5)
2025-05-01 18:29:36,445 - report_generator - INFO - Period labels: ['2025-04', '2025-05']
2025-05-01 18:29:36,446 - report_generator - INFO - Total amount sum: 68.59
2025-05-01 18:29:36,448 - report_generator - INFO - Time series data for category 'Groceries': {'2025-04': Decimal('65.09'), '2025-05': Decimal('3.50')}
2025-05-01 18:29:36,559 - report_generator - INFO - Successfully created time chart for category 'Groceries'
2025-05-01 18:29:36,559 - report_generator - INFO - Category totals: {'Groceries': Decimal('68.59')}
2025-05-01 18:29:36,559 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-01 18:29:36,566 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-01 18:29:36,566 - report_generator - INFO - Monthly totals values: {'2025-04': 65.09, '2025-05': 3.5}
2025-05-01 18:29:36,576 - report_generator - INFO - Created bar chart for category 'Groceries'
2025-05-01 18:29:36,734 - report_generator - INFO - Report generated successfully: reports\expense_report_20250501_182936.pdf
2025-05-01 18:29:36,904 - db_manager - INFO - Added report record with ID: 5
2025-05-01 18:29:41,326 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 18:29:41] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-01 19:23:42,300 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 5d05a9cf7fefd6105395779b2947050b.
2025-05-01 19:23:44,367 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 19:23:45,854 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 19:23:45,856 - transcription - INFO - Transcription successful: Dzisiaj kupi³em wiert³a widiowe do wiertarki w Lidlu. To bêdzie nowa kategoria TOOLS.
...
2025-05-01 19:23:46,033 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-01 19:23:46,033 - discord_bot - INFO - Discord transcription: Dzisiaj kupi³em wiert³a widiowe do wiertarki w Lidlu. To bêdzie nowa kategoria TOOLS.

2025-05-01 19:23:47,493 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 19:23:47,498 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 1, 0, 0), 'amount': 0, 'vendor': 'Lidl', 'category': 'Tools', 'description': 'drills'}]
2025-05-01 19:23:47,865 - db_manager - INFO - Added expense record with ID: 67
2025-05-01 19:23:50,853 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-01 19:23:55,506 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 19:23:56,575 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 19:23:56,577 - transcription - INFO - Transcription successful: Piêty wiert³a za 15 funtów.
...
2025-05-01 19:23:56,725 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-01 19:23:56,725 - discord_bot - INFO - Discord transcription: Piêty wiert³a za 15 funtów.

2025-05-01 19:23:58,031 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 19:23:58,032 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 1, 0, 0), 'amount': 15, 'vendor': 'Piêty', 'category': 'Tools', 'description': 'drills'}]
2025-05-01 19:23:58,374 - db_manager - INFO - Added expense record with ID: 68
2025-05-01 19:24:00,501 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-01 19:24:11,137 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 19:24:12,495 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 19:24:12,496 - transcription - INFO - Transcription successful: Nie, dodaj do poprzedniego, gdzie by³o tools, dodaj cenê 15 funtów.
...
2025-05-01 19:24:12,653 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-01 19:24:12,654 - discord_bot - INFO - Discord transcription: Nie, dodaj do poprzedniego, gdzie by³o tools, dodaj cenê 15 funtów.

2025-05-01 19:24:13,900 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 19:24:13,907 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 1, 0, 0), 'amount': 15, 'vendor': 'Unknown', 'category': 'Tools', 'description': 'price'}]
2025-05-01 19:24:14,257 - db_manager - INFO - Added expense record with ID: 69
2025-05-01 19:24:16,419 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-01 19:24:28,120 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 19:24:29,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 19:24:29,255 - transcription - INFO - Transcription successful: Dzisiaj kupi³em w Lidlu wiert³a udarowe kategoria TULF za 15 funtus.
...
2025-05-01 19:24:29,403 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-01 19:24:29,404 - discord_bot - INFO - Discord transcription: Dzisiaj kupi³em w Lidlu wiert³a udarowe kategoria TULF za 15 funtus.

2025-05-01 19:24:30,494 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 19:24:30,497 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 1, 0, 0), 'amount': 15, 'vendor': 'Lidl', 'category': 'Tools', 'description': 'drill bits'}]
2025-05-01 19:24:30,841 - db_manager - INFO - Added expense record with ID: 70
2025-05-01 19:24:33,047 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-01 19:43:24,590 - discord.gateway - INFO - Shard ID None has successfully RESUMED session 5d05a9cf7fefd6105395779b2947050b.
2025-05-01 20:23:57,760 - discord.gateway - WARNING - Shard ID None has stopped responding to the gateway. Closing and restarting.
2025-05-01 20:23:58,267 - discord.gateway - INFO - Shard ID None session has been invalidated.
2025-05-01 20:24:02,326 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 20:24:02] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-01 20:24:03,844 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: de5b12193a26d42ec0849531e557162a).
2025-05-01 20:24:10,073 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 20:24:10] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-01 22:42:37,312 - discord.gateway - INFO - Shard ID None has successfully RESUMED session de5b12193a26d42ec0849531e557162a.
2025-05-01 22:44:18,379 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 22:44:18] "GET / HTTP/1.1" 200 -
2025-05-01 22:44:36,726 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 22:44:36] "[31m[1mGET / HTTP/1.1[0m" 400 -
2025-05-01 22:44:36,758 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 22:44:36] "[33mGET /loginMsg.js HTTP/1.1[0m" 404 -
2025-05-01 22:44:36,789 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 22:44:36] "[33mGET /cgi/get.cgi?cmd=home_login HTTP/1.1[0m" 404 -
2025-05-01 22:44:37,633 - werkzeug - INFO - 192.168.1.190 - - [01/May/2025 22:44:37] "[33mPOST /boaform/formTracert HTTP/1.1[0m" 404 -
2025-05-01 23:03:48,461 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:03:48] "GET /api/view-expenses?page=2&per_page=10 HTTP/1.1" 200 -
2025-05-01 23:03:52,488 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:03:52] "GET /api/view-expenses?page=5&per_page=10 HTTP/1.1" 200 -
2025-05-01 23:03:56,213 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:03:56] "GET /api/view-expenses?page=1&per_page=10&category=Fuel HTTP/1.1" 200 -
2025-05-01 23:04:03,734 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:03] "GET /api/view-expenses?page=1&per_page=10&category=Groceries HTTP/1.1" 200 -
2025-05-01 23:04:09,217 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:09] "GET /api/view-expenses?page=1&per_page=10&category=Utilities HTTP/1.1" 200 -
2025-05-01 23:04:12,770 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:12] "GET /api/view-expenses?page=1&per_page=10&category=Rent HTTP/1.1" 200 -
2025-05-01 23:04:16,012 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:16] "GET /api/view-expenses?page=1&per_page=10&category=Entertainment HTTP/1.1" 200 -
2025-05-01 23:04:28,595 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:28] "GET /api/view-expenses?page=1&per_page=10&category=Transportation HTTP/1.1" 200 -
2025-05-01 23:04:37,693 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:37] "GET /api/view-expenses?page=1&per_page=10&category=Healthcare HTTP/1.1" 200 -
2025-05-01 23:04:41,839 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:41] "GET /api/view-expenses?page=1&per_page=10&category=Clothing HTTP/1.1" 200 -
2025-05-01 23:04:49,836 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:49] "GET /api/view-expenses?page=1&per_page=10&category=Education HTTP/1.1" 200 -
2025-05-01 23:04:52,396 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:04:52] "GET /api/view-expenses?page=1&per_page=10&category=Other HTTP/1.1" 200 -
2025-05-01 23:05:03,376 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:05:03] "GET /api/view-expenses?page=1&per_page=10&category=Other HTTP/1.1" 200 -
2025-05-01 23:05:06,008 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:05:06] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-01 23:23:29,506 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 23:23:30,588 - __main__ - INFO - Model training scheduler started
2025-05-01 23:23:41,651 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 23:23:41,651 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 23:23:41,652 - __main__ - INFO - Discord bot started
2025-05-01 23:23:41,652 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 23:23:41,654 - discord.client - INFO - logging in using static token
2025-05-01 23:23:42,490 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 23:23:42,490 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 23:23:42,792 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: ca8324785344955f50a7e71b2669e79a).
2025-05-01 23:23:50,540 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:23:50] "GET / HTTP/1.1" 200 -
2025-05-01 23:23:50,629 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:23:50] "GET /static/js/app.js HTTP/1.1" 200 -
2025-05-01 23:24:00,787 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:24:00] "GET /api/categories HTTP/1.1" 200 -
2025-05-01 23:24:23,351 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:24:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-01 23:24:39,581 - __main__ - INFO - Saved audio file: uploads\04fc05ec-3983-4c01-95fa-5fc79023009a_expense_recording.webm
2025-05-01 23:24:39,603 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 23:24:41,595 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 23:24:41,595 - transcription - INFO - Transcription successful: Dzisiaj kupi³em wódkê za 25 funtów w Azji.
...
2025-05-01 23:24:41,595 - __main__ - INFO - Transcription: Dzisiaj kupi³em wódkê za 25 funtów w Azji.

2025-05-01 23:24:42,582 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 23:24:42,583 - __main__ - INFO - Extracted expenses: [{'date': datetime.datetime(2022, 3, 3, 0, 0), 'amount': 25, 'vendor': 'Azja', 'category': 'Alcohol', 'description': 'wódka'}]
2025-05-01 23:25:03,377 - db_manager - INFO - Added expense record with ID: 71
2025-05-01 23:25:24,428 - __main__ - ERROR - Error processing audio: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c1d::6d (2a00:1450:400c:c1d::6d:587), connect error 10060')
Traceback (most recent call last):
  File "C:\_python\Expenses\app.py", line 211, in process_audio
    send_email(
  File "C:\_python\Expenses\app.py", line 150, in send_email
    with smtplib.SMTP(app.config['SMTP_SERVER'], app.config['SMTP_PORT']) as server:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 258, in __init__
    raise SMTPConnectError(code, msg)
smtplib.SMTPConnectError: (421, b'Cannot connect to SMTP server 2a00:1450:400c:c1d::6d (2a00:1450:400c:c1d::6d:587), connect error 10060')
2025-05-01 23:25:24,436 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:25:24] "[35m[1mPOST /api/process-audio HTTP/1.1[0m" 500 -
2025-05-01 23:31:28,540 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 23:31:29,572 - __main__ - INFO - Model training scheduler started
2025-05-01 23:31:30,184 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 23:31:30,185 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 23:31:30,186 - __main__ - INFO - Discord bot started
2025-05-01 23:31:30,186 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 23:31:30,188 - discord.client - INFO - logging in using static token
2025-05-01 23:31:31,021 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 23:31:31,021 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 23:31:31,159 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 1a7c1840a868f645f1cf88d2aff54664).
2025-05-01 23:32:10,271 - __main__ - INFO - Saved audio file: uploads\4fceff14-47b4-4b44-8b6f-fae822c6ddf3_expense_recording.webm
2025-05-01 23:32:10,292 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 23:32:11,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 23:32:11,771 - transcription - INFO - Transcription successful: Dzisiaj w PC Karys kupi³em laptopa HP za 700 funtów.
...
2025-05-01 23:32:11,771 - __main__ - INFO - Transcription: Dzisiaj w PC Karys kupi³em laptopa HP za 700 funtów.

2025-05-01 23:32:12,650 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 23:32:12,652 - __main__ - INFO - Extracted expenses: [{'date': datetime.datetime(2022, 3, 24, 0, 0), 'amount': 700, 'vendor': 'PC Karys', 'category': 'Office supplies', 'description': 'laptopa HP'}]
2025-05-01 23:32:13,025 - db_manager - INFO - Added expense record with ID: 72
2025-05-01 23:32:15,033 - __main__ - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-01 23:32:15,034 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:32:15] "POST /api/process-audio HTTP/1.1" 200 -
2025-05-01 23:32:15,191 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:32:15] "GET /api/categories HTTP/1.1" 200 -
2025-05-01 23:35:04,690 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 23:35:05,708 - __main__ - INFO - Model training scheduler started
2025-05-01 23:35:06,215 - db_manager - INFO - Database schema verification completed successfully
2025-05-01 23:35:06,216 - __main__ - INFO - Starting Discord bot in background thread
2025-05-01 23:35:06,216 - __main__ - INFO - Discord bot started
2025-05-01 23:35:06,216 - __main__ - INFO - Starting Flask application on port 5000
2025-05-01 23:35:06,218 - discord.client - INFO - logging in using static token
2025-05-01 23:35:07,050 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-01 23:35:07,051 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-01 23:35:07,343 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: fae396f6eb2ac3f8dbf031b21c636c52).
2025-05-01 23:35:15,328 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:35:15] "GET / HTTP/1.1" 200 -
2025-05-01 23:35:15,418 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:35:15] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-05-01 23:35:15,586 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:35:15] "GET /api/categories HTTP/1.1" 200 -
2025-05-01 23:35:17,769 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:35:17] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-01 23:35:28,409 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:35:28] "GET /api/view-expenses?page=1&per_page=10&category=Tools HTTP/1.1" 200 -
2025-05-01 23:35:32,437 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:35:32] "GET /api/view-expenses?page=1&per_page=10&category=Office%20supplies HTTP/1.1" 200 -
2025-05-01 23:36:18,818 - __main__ - INFO - Saved audio file: uploads\4dfc0522-2f4d-48c4-a8f5-4f38271b5f72_expense_recording.webm
2025-05-01 23:36:18,839 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-01 23:36:20,971 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-01 23:36:20,971 - transcription - INFO - Transcription successful: Dzisiaj w Piscicaris kupi³em myszkê do laptopa za 35 funtów.
...
2025-05-01 23:36:20,971 - __main__ - INFO - Transcription: Dzisiaj w Piscicaris kupi³em myszkê do laptopa za 35 funtów.

2025-05-01 23:36:21,830 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 23:36:21,833 - __main__ - INFO - Extracted expenses: [{'date': datetime.datetime(2022, 3, 25, 0, 0), 'amount': 35, 'vendor': 'Piscicaris', 'category': 'Office supplies', 'description': 'myszkê do laptopa'}]
2025-05-01 23:36:42,260 - db_manager - INFO - Added expense record with ID: 73
2025-05-01 23:36:44,110 - __main__ - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-01 23:36:44,110 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:36:44] "POST /api/process-audio HTTP/1.1" 200 -
2025-05-01 23:36:54,279 - werkzeug - INFO - 127.0.0.1 - - [01/May/2025 23:36:54] "GET /api/categories HTTP/1.1" 200 -
2025-05-05 19:18:34,501 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:18:35,646 - __main__ - INFO - Model training scheduler started
2025-05-05 19:18:40,304 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:18:40,304 - __main__ - INFO - Starting Discord bot in background thread
2025-05-05 19:18:40,306 - __main__ - INFO - Discord bot started
2025-05-05 19:18:40,306 - __main__ - INFO - Starting Flask application on port 5000
2025-05-05 19:18:40,308 - discord.client - INFO - logging in using static token
2025-05-05 19:18:41,609 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 69aa538933892c5ae62df4afb7d12c1b).
2025-05-05 19:18:52,336 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.10.161.203:5000
2025-05-05 19:18:52,337 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-05 19:19:10,487 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:19:12,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:19:12,660 - transcription - INFO - Transcription successful: Wczoraj w Tesco kupi³em paliwo za 50 funtów, whisky za 40, jeans za 15 i ziemniaki za 3,50.
...
2025-05-05 19:19:13,169 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:19:13,170 - discord_bot - INFO - Discord transcription: Wczoraj w Tesco kupi³em paliwo za 50 funtów, whisky za 40, jeans za 15 i ziemniaki za 3,50.

2025-05-05 19:19:16,055 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:19:16,058 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 50, 'vendor': 'Tesco', 'category': 'Fuel', 'description': 'fuel'}, {'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 40, 'vendor': 'Tesco', 'category': 'Alcohol', 'description': 'whisky'}, {'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 15, 'vendor': 'Tesco', 'category': 'Clothing', 'description': 'jeans'}, {'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 3.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'potatoes'}]
2025-05-05 19:19:17,265 - db_manager - INFO - Added expense record with ID: 74
2025-05-05 19:19:19,997 - db_manager - INFO - Added expense record with ID: 75
2025-05-05 19:19:21,172 - db_manager - INFO - Added expense record with ID: 76
2025-05-05 19:19:22,347 - db_manager - INFO - Added expense record with ID: 77
2025-05-05 19:19:36,673 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:20:15,385 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:20:17,221 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:20:17,221 - transcription - INFO - Transcription successful: Wyœlij mi na maila, w pdf-ie, zestawienie wydatków wszystkich, z ca³ego okresu.
...
2025-05-05 19:20:19,588 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:20:19,589 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila, w pdf-ie, zestawienie wydatków wszystkich, z ca³ego okresu.

2025-05-05 19:20:21,207 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:20:21,214 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'Expenses'}]
2025-05-05 19:20:25,013 - db_manager - INFO - Added expense record with ID: 78
2025-05-05 19:20:38,990 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:21:05,641 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:21:06,855 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:21:06,855 - transcription - INFO - Transcription successful: Wyœlij mi w pdf'ie na maila raport wszystkich wydatków.
...
2025-05-05 19:21:09,113 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:21:09,113 - discord_bot - INFO - Discord transcription: Wyœlij mi w pdf'ie na maila raport wszystkich wydatków.

2025-05-05 19:21:12,199 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:21:12,201 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'report'}]
2025-05-05 19:21:14,462 - db_manager - WARNING - Duplicate expense detected: 2025-05-05 00:00:00, 0, Unknown, Other
2025-05-05 19:21:28,542 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:21:54,984 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:21:56,489 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:21:56,490 - transcription - INFO - Transcription successful: Wyœlij mi PDF na e-mail zestawienie wydatków na ten miesi¹c.
...
2025-05-05 19:21:57,020 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:21:57,020 - discord_bot - INFO - Discord transcription: Wyœlij mi PDF na e-mail zestawienie wydatków na ten miesi¹c.

2025-05-05 19:22:00,445 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:22:00,450 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'Not specified', 'category': 'Other', 'description': 'Report'}]
2025-05-05 19:22:01,631 - db_manager - INFO - Added expense record with ID: 79
2025-05-05 19:22:15,626 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:23:05,797 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:23:07,988 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:23:07,989 - transcription - INFO - Transcription successful: Wczoraj w Tesco kupi³em pomidory za 3,50, kupi³em jeansy za 12,50, kupi³em t-shirta za 5 i kupi³em p...
2025-05-05 19:23:08,524 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:23:08,525 - discord_bot - INFO - Discord transcription: Wczoraj w Tesco kupi³em pomidory za 3,50, kupi³em jeansy za 12,50, kupi³em t-shirta za 5 i kupi³em paliwo za 35.

2025-05-05 19:23:11,352 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:23:11,353 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 3.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'tomatoes'}, {'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 12.5, 'vendor': 'Tesco', 'category': 'Clothing', 'description': 'jeans'}, {'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 5, 'vendor': 'Tesco', 'category': 'Clothing', 'description': 't-shirt'}, {'date': datetime.datetime(2025, 5, 4, 0, 0), 'amount': 35, 'vendor': 'Tesco', 'category': 'Fuel', 'description': 'fuel'}]
2025-05-05 19:23:11,883 - db_manager - WARNING - Duplicate expense detected: 2025-05-04 00:00:00, 3.5, Tesco, Groceries
2025-05-05 19:23:17,816 - db_manager - INFO - Added expense record with ID: 80
2025-05-05 19:23:18,990 - db_manager - INFO - Added expense record with ID: 81
2025-05-05 19:23:20,167 - db_manager - INFO - Added expense record with ID: 82
2025-05-05 19:23:34,280 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:32:33,524 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:32:34,981 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:32:34,981 - transcription - INFO - Transcription successful: Dzisiaj w Lidlu kupi³em mazaki za 1,75.
...
2025-05-05 19:32:35,666 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:32:35,666 - discord_bot - INFO - Discord transcription: Dzisiaj w Lidlu kupi³em mazaki za 1,75.

2025-05-05 19:32:37,117 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:32:37,120 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 1.75, 'vendor': 'Lidl', 'category': 'Office supplies', 'description': 'markers'}]
2025-05-05 19:32:38,298 - db_manager - INFO - Added expense record with ID: 83
2025-05-05 19:32:52,380 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:36:33,600 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:36:36,504 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:36:36,504 - transcription - INFO - Transcription successful: Wyœlij mi na maila PDF-ie zestawienie wszystkich wydatków na paliwo.
...
2025-05-05 19:36:37,022 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-05 19:36:38,076 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:36:38,685 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 13
2025-05-05 19:36:38,686 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-05 19:36:38,687 - report_generator - INFO - Total amount sum: 491.00
2025-05-05 19:36:38,688 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-05 19:36:38,688 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-05 19:36:38,688 - report_generator - INFO - Total amount sum: 491.00
2025-05-05 19:36:38,692 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('100.00')}
2025-05-05 19:36:38,921 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-05 19:36:38,922 - report_generator - INFO - Category totals: {'Fuel': Decimal('491.00')}
2025-05-05 19:36:38,922 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-05 19:36:38,929 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-05 19:36:38,929 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 100.0}
2025-05-05 19:36:38,943 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-05 19:36:39,132 - report_generator - INFO - Report generated successfully: reports\expense_report_20250505_193638.pdf
2025-05-05 19:36:53,482 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-05 19:42:04,764 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:42:05,763 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:42:05,764 - transcription - INFO - Transcription successful: Kupi³em dzisiaj benzynê na Shell za 13,50.
...
2025-05-05 19:42:06,423 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:42:06,423 - discord_bot - INFO - Discord transcription: Kupi³em dzisiaj benzynê na Shell za 13,50.

2025-05-05 19:42:08,343 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:42:08,353 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 13.5, 'vendor': 'Shell', 'category': 'Fuel', 'description': 'fuel'}]
2025-05-05 19:42:09,562 - db_manager - INFO - Added expense record with ID: 84
2025-05-05 19:42:23,879 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:42:55,604 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:42:57,851 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:42:57,852 - transcription - INFO - Transcription successful: Wyœlij mi na maila w pdf-ie zestawienie wszystkich wydatków na paliwo.
...
2025-05-05 19:42:58,350 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-05 19:42:59,334 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:43:02,649 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 14
2025-05-05 19:43:02,650 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-05 19:43:02,650 - report_generator - INFO - Total amount sum: 504.50
2025-05-05 19:43:02,650 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-05 19:43:02,651 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-05 19:43:02,651 - report_generator - INFO - Total amount sum: 504.50
2025-05-05 19:43:02,651 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('113.50')}
2025-05-05 19:43:02,764 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-05 19:43:02,765 - report_generator - INFO - Category totals: {'Fuel': Decimal('504.50')}
2025-05-05 19:43:02,765 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-05 19:43:02,770 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-05 19:43:02,770 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 113.5}
2025-05-05 19:43:02,780 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-05 19:43:02,960 - report_generator - INFO - Report generated successfully: reports\expense_report_20250505_194302.pdf
2025-05-05 19:43:15,186 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 136, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 46, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 66, in process_discord_audio
    if try_generate_report_from_text(transcription):
  File "C:\_python\Expenses\utils\email_helper.py", line 81, in try_generate_report_from_text
    send_report_email(category=category, format_type=format_type)
  File "C:\_python\Expenses\report_generator.py", line 735, in send_report_email
    server.starttls()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 769, in starttls
    self.ehlo_or_helo_if_needed()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 611, in ehlo_or_helo_if_needed
    if not (200 <= self.ehlo()[0] <= 299):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 452, in ehlo
    (code, msg) = self.getreply()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\smtplib.py", line 398, in getreply
    line = self.file.readline(_MAXLINE + 1)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-05-05 19:43:17,094 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-05 19:52:59,895 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:53:00,936 - __main__ - INFO - Model training scheduler started
2025-05-05 19:53:02,171 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:53:02,171 - __main__ - INFO - Starting Discord bot in background thread
2025-05-05 19:53:02,172 - __main__ - INFO - Discord bot started
2025-05-05 19:53:02,172 - __main__ - INFO - Starting Flask application on port 5000
2025-05-05 19:53:02,174 - discord.client - INFO - logging in using static token
2025-05-05 19:53:03,676 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: a43961653d0a157675188c81be0b48bd).
2025-05-05 19:53:14,163 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.10.161.203:5000
2025-05-05 19:53:14,163 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-05 19:53:26,443 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:53:28,205 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:53:28,206 - transcription - INFO - Transcription successful: Wyœlij mi na maila, w pdf-ie, raport wydatków na odzie¿ w tym roku.
...
2025-05-05 19:53:28,743 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:53:28,743 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila, w pdf-ie, raport wydatków na odzie¿ w tym roku.

2025-05-05 19:53:30,650 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:53:30,652 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Clothing', 'description': 'Clothing'}]
2025-05-05 19:53:31,871 - db_manager - INFO - Added expense record with ID: 85
2025-05-05 19:53:45,973 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:53:59,207 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:54:00,472 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:54:00,473 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport wydatków KLOC w tym roku.
...
2025-05-05 19:54:01,011 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:54:01,011 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila raport wydatków KLOC w tym roku.

2025-05-05 19:54:02,906 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:54:02,907 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'KLOC', 'category': 'Other', 'description': 'report'}]
2025-05-05 19:54:04,134 - db_manager - INFO - Added expense record with ID: 86
2025-05-05 19:54:18,868 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:54:28,949 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:54:30,438 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:54:30,439 - transcription - INFO - Transcription successful: Wyœlij mi na maila, w pdf-ie, raport wydatków na klostr.
...
2025-05-05 19:54:33,314 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 19:54:33,315 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila, w pdf-ie, raport wydatków na klostr.

2025-05-05 19:54:34,764 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 19:54:34,765 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'report'}]
2025-05-05 19:54:35,299 - db_manager - WARNING - Duplicate expense detected: 2025-05-05 00:00:00, 0, Unknown, Other
2025-05-05 19:54:50,021 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 19:55:19,594 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 19:55:20,744 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 19:55:20,745 - transcription - INFO - Transcription successful: Wyœlij mi na maila w pdf raport wydatków na paliwo w tym roku.
...
2025-05-05 19:55:21,240 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-05 19:55:26,633 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 19:55:27,279 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 14
2025-05-05 19:55:27,279 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-05 19:55:27,279 - report_generator - INFO - Total amount sum: 504.50
2025-05-05 19:55:27,280 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-05 19:55:27,280 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-05 19:55:27,280 - report_generator - INFO - Total amount sum: 504.50
2025-05-05 19:55:27,281 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('113.50')}
2025-05-05 19:55:27,444 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-05 19:55:27,445 - report_generator - INFO - Category totals: {'Fuel': Decimal('504.50')}
2025-05-05 19:55:27,445 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-05 19:55:27,452 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-05 19:55:27,452 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 113.5}
2025-05-05 19:55:27,463 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-05 19:55:27,649 - report_generator - INFO - Report generated successfully: reports\expense_report_20250505_195527.pdf
2025-05-05 19:55:41,814 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-05 20:02:21,706 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 20:02:24,836 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 20:02:24,836 - transcription - INFO - Transcription successful: 2 maja w Lidlu kupi³em Scottish Whole Milk za 1,20, Red Bull Energy Drink 5,99, Golda Slices 2,99, C...
2025-05-05 20:02:25,496 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 20:02:25,497 - discord_bot - INFO - Discord transcription: 2 maja w Lidlu kupi³em Scottish Whole Milk za 1,20, Red Bull Energy Drink 5,99, Golda Slices 2,99, Chicken Breast 1,99, Chili Breast Fillet 4,69, Cooked Ham Slices 2,25, Baking Potatoes 1,48, Frikadellen 2,89, Celery 2x0,75, Fresh Cut Dill 0,48, Roasted and Salted Peanuts 3,09, Garlic Naan Bread 0,69, Plain Naan Bread 0,69, XXL Almonds 3,89, Belgian Bun 0,79, Coronation Chicken Sandwich 1,99, Scottish Salt Cream 0,99, Toffee Yum Yum 0,79

2025-05-05 20:02:36,293 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 20:02:36,397 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 1.2, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Milk'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 5.99, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Energy Drink'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 2.99, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Slices'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 1.99, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Chicken Breast'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 4.69, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Breast Fillet'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 2.25, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Ham Slices'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 1.48, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Potatoes'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 2.89, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Frikadellen'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.75, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Celery'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.48, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Dill'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 3.09, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Peanuts'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.69, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Garlic Naan Bread'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.69, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Plain Naan Bread'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 3.89, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Almonds'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.79, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Belgian Bun'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 1.99, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Chicken Sandwich'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.99, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Salt Cream'}, {'date': datetime.datetime(2025, 5, 2, 0, 0), 'amount': 0.79, 'vendor': 'Lidl', 'category': 'Groceries', 'description': 'Yum Yum'}]
2025-05-05 20:02:43,634 - db_manager - INFO - Added expense record with ID: 87
2025-05-05 20:02:44,940 - db_manager - INFO - Added expense record with ID: 88
2025-05-05 20:02:46,164 - db_manager - INFO - Added expense record with ID: 89
2025-05-05 20:02:50,688 - db_manager - INFO - Added expense record with ID: 90
2025-05-05 20:02:51,852 - db_manager - INFO - Added expense record with ID: 91
2025-05-05 20:02:52,330 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 86, in process_discord_audio
    expense_id = db_manager.add_expense(
  File "C:\_python\Expenses\db_manager.py", line 153, in add_expense
    is_duplicate = self.check_for_duplicate(
  File "C:\_python\Expenses\db_manager.py", line 133, in check_for_duplicate
    cursor.execute(query, params)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 558, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 822, in _read_query_result
    result.read()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 1200, in read
    first_packet = self.connection._read_packet()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 739, in _read_packet
    packet_header = self._read_bytes(4)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 779, in _read_bytes
    data = self._rfile.read(num_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-05-05 20:02:53,119 - db_manager - INFO - Added expense record with ID: 92
2025-05-05 20:02:54,309 - db_manager - INFO - Added expense record with ID: 93
2025-05-05 20:02:59,219 - db_manager - INFO - Added expense record with ID: 94
2025-05-05 20:03:00,405 - db_manager - INFO - Added expense record with ID: 95
2025-05-05 20:03:01,633 - db_manager - INFO - Added expense record with ID: 96
2025-05-05 20:03:02,344 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 86, in process_discord_audio
    expense_id = db_manager.add_expense(
  File "C:\_python\Expenses\db_manager.py", line 166, in add_expense
    with self._get_connection() as conn:
  File "C:\_python\Expenses\db_manager.py", line 24, in _get_connection
    return pymysql.connect(
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 358, in __init__
    self.connect()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 664, in connect
    self._request_authentication()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 954, in _request_authentication
    auth_packet = self._read_packet()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 739, in _read_packet
    packet_header = self._read_bytes(4)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 779, in _read_bytes
    data = self._rfile.read(num_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-05-05 20:03:02,843 - db_manager - INFO - Added expense record with ID: 97
2025-05-05 20:03:04,006 - db_manager - INFO - Added expense record with ID: 98
2025-05-05 20:03:04,535 - db_manager - WARNING - Duplicate expense detected: 2025-05-02 00:00:00, 0.69, Lidl, Groceries
2025-05-05 20:03:08,280 - db_manager - INFO - Added expense record with ID: 99
2025-05-05 20:03:12,355 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 86, in process_discord_audio
    expense_id = db_manager.add_expense(
  File "C:\_python\Expenses\db_manager.py", line 221, in add_expense
    conn.commit()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 478, in commit
    self._read_ok_packet()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 448, in _read_ok_packet
    pkt = self._read_packet()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 739, in _read_packet
    packet_header = self._read_bytes(4)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pymysql\connections.py", line 779, in _read_bytes
    data = self._rfile.read(num_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 720, in readinto
    return self._sock.recv_into(b)

2025-05-05 20:03:12,686 - db_manager - INFO - Added expense record with ID: 100
2025-05-05 20:03:13,187 - db_manager - WARNING - Duplicate expense detected: 2025-05-02 00:00:00, 1.99, Lidl, Groceries
2025-05-05 20:03:14,413 - db_manager - INFO - Added expense record with ID: 101
2025-05-05 20:03:14,923 - db_manager - WARNING - Duplicate expense detected: 2025-05-02 00:00:00, 0.79, Lidl, Groceries
2025-05-05 20:03:14,925 - discord.client - ERROR - Attempting a reconnect in 0.85s
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 659, in connect
    await self.ws.poll_event()
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\gateway.py", line 646, in poll_event
    raise ConnectionClosed(self.socket, shard_id=self.shard_id, code=code) from None
discord.errors.ConnectionClosed: Shard ID None WebSocket closed with 1000
2025-05-05 20:03:30,111 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 20:03:30,683 - discord.gateway - INFO - Shard ID None has successfully RESUMED session a43961653d0a157675188c81be0b48bd.
2025-05-05 20:08:32,404 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 20:08:34,334 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 20:08:34,334 - transcription - INFO - Transcription successful: Zaprosiæ mnie na e-mail w PDF. Rzecz o ca³ej kosztówce w sklepach.
...
2025-05-05 20:08:34,998 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 20:08:34,998 - discord_bot - INFO - Discord transcription: Zaprosiæ mnie na e-mail w PDF. Rzecz o ca³ej kosztówce w sklepach.

2025-05-05 20:08:39,170 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 20:08:39,173 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'costs'}]
2025-05-05 20:08:39,688 - db_manager - WARNING - Duplicate expense detected: 2025-05-05 00:00:00, 0, Unknown, Other
2025-05-05 20:08:54,022 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 20:43:11,088 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 20:43:12,146 - __main__ - INFO - Model training scheduler started
2025-05-05 20:43:13,823 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 20:43:13,824 - __main__ - INFO - Starting Discord bot in background thread
2025-05-05 20:43:13,825 - __main__ - INFO - Discord bot started
2025-05-05 20:43:13,825 - __main__ - INFO - Starting Flask application on port 5000
2025-05-05 20:43:13,827 - discord.client - INFO - logging in using static token
2025-05-05 20:43:15,188 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f718b988e6c3b1412b4752d60b017b86).
2025-05-05 20:43:25,819 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.10.161.203:5000
2025-05-05 20:43:25,820 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-05 20:43:58,908 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 20:44:00,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 20:44:00,717 - transcription - INFO - Transcription successful: Dzisiaj w Tesco kupi³em benzynê za 50 funtów, jeansy za 12,50, whisky za 40 funtów, pomidory za 2,50...
2025-05-05 20:44:01,222 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-05 20:44:01,223 - discord_bot - INFO - Discord transcription: Dzisiaj w Tesco kupi³em benzynê za 50 funtów, jeansy za 12,50, whisky za 40 funtów, pomidory za 2,50 i ziemniaki za 1,50.

2025-05-05 20:44:06,244 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-05 20:44:06,249 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 50, 'vendor': 'Tesco', 'category': 'Fuel', 'description': 'petrol'}, {'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 12.5, 'vendor': 'Tesco', 'category': 'Clothing', 'description': 'jeans'}, {'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 40, 'vendor': 'Tesco', 'category': 'Alcohol', 'description': 'whisky'}, {'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 2.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'tomatoes'}, {'date': datetime.datetime(2025, 5, 5, 0, 0), 'amount': 1.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'potatoes'}]
2025-05-05 20:44:07,421 - db_manager - INFO - Added expense record with ID: 102
2025-05-05 20:44:09,867 - db_manager - INFO - Added expense record with ID: 103
2025-05-05 20:44:11,047 - db_manager - INFO - Added expense record with ID: 104
2025-05-05 20:44:13,322 - db_manager - INFO - Added expense record with ID: 105
2025-05-05 20:44:17,247 - db_manager - INFO - Added expense record with ID: 106
2025-05-05 20:44:31,579 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-05 20:44:41,501 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-05 20:44:42,578 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-05 20:44:42,579 - transcription - INFO - Transcription successful: Wyœlij mi na maila PDF z zestawieniem wszystkich wydatków na paliwo.
...
2025-05-05 20:44:43,092 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-05 20:44:44,063 - db_manager - INFO - Database schema verification completed successfully
2025-05-05 20:44:44,663 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 15
2025-05-05 20:44:44,663 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-05 20:44:44,663 - report_generator - INFO - Total amount sum: 554.50
2025-05-05 20:44:44,664 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-05 20:44:44,664 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-05 20:44:44,664 - report_generator - INFO - Total amount sum: 554.50
2025-05-05 20:44:44,665 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('163.50')}
2025-05-05 20:44:44,880 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-05 20:44:44,881 - report_generator - INFO - Category totals: {'Fuel': Decimal('554.50')}
2025-05-05 20:44:44,881 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-05 20:44:44,889 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-05 20:44:44,889 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 163.5}
2025-05-05 20:44:44,901 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-05 20:44:45,081 - report_generator - INFO - Report generated successfully: reports\expense_report_20250505_204444.pdf
2025-05-05 20:44:59,157 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-05 21:56:56,348 - discord.client - ERROR - Attempting a reconnect in 1.47s
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1357, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 995, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1026, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\resolver.py", line 39, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 901, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 976, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 656, in connect
    self.ws = await asyncio.wait_for(coro, timeout=60.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\gateway.py", line 372, in from_client
    socket = await client.http.ws_connect(str(url))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\http.py", line 537, in ws_connect
    return await self.__session.ws_connect(url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 1004, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 703, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 548, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1056, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1363, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host gateway-us-east1-b.discord.gg:443 ssl:default [getaddrinfo failed]
2025-05-05 22:03:02,663 - discord.client - ERROR - Attempting a reconnect in 0.57s
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1115, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 122, in start_connection
    raise first_exception
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 73, in start_connection
    sock = await _connect_sock(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 208, in _connect_sock
    await loop.sock_connect(sock, address)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py", line 729, in sock_connect
    return await self._proactor.connect(sock, address)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 803, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 599, in finish_connect
    ov.getresult()
PermissionError: [WinError 5] Odmowa dostêpu

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 656, in connect
    self.ws = await asyncio.wait_for(coro, timeout=60.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\gateway.py", line 372, in from_client
    socket = await client.http.ws_connect(str(url))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\http.py", line 537, in ws_connect
    return await self.__session.ws_connect(url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 1004, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 703, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 548, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1056, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1406, in _create_direct_connection
    raise last_exc
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1375, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1130, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host gateway-us-east1-b.discord.gg:443 ssl:default [Odmowa dostêpu]
2025-05-05 22:03:03,391 - discord.client - ERROR - Attempting a reconnect in 3.26s
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1115, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 122, in start_connection
    raise first_exception
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 73, in start_connection
    sock = await _connect_sock(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 208, in _connect_sock
    await loop.sock_connect(sock, address)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py", line 729, in sock_connect
    return await self._proactor.connect(sock, address)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 803, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 599, in finish_connect
    ov.getresult()
PermissionError: [WinError 5] Odmowa dostêpu

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 656, in connect
    self.ws = await asyncio.wait_for(coro, timeout=60.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\gateway.py", line 372, in from_client
    socket = await client.http.ws_connect(str(url))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\http.py", line 537, in ws_connect
    return await self.__session.ws_connect(url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 1004, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 703, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 548, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1056, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1406, in _create_direct_connection
    raise last_exc
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1375, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1130, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host gateway-us-east1-b.discord.gg:443 ssl:default [Odmowa dostêpu]
2025-05-05 22:03:06,678 - discord.client - ERROR - Attempting a reconnect in 12.09s
Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1115, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 122, in start_connection
    raise first_exception
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 73, in start_connection
    sock = await _connect_sock(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohappyeyeballs\impl.py", line 208, in _connect_sock
    await loop.sock_connect(sock, address)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py", line 729, in sock_connect
    return await self._proactor.connect(sock, address)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 803, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 599, in finish_connect
    ov.getresult()
PermissionError: [WinError 5] Odmowa dostêpu

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 656, in connect
    self.ws = await asyncio.wait_for(coro, timeout=60.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\gateway.py", line 372, in from_client
    socket = await client.http.ws_connect(str(url))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\http.py", line 537, in ws_connect
    return await self.__session.ws_connect(url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 1004, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\client.py", line 703, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 548, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1056, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1406, in _create_direct_connection
    raise last_exc
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1375, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\aiohttp\connector.py", line 1130, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host gateway-us-east1-b.discord.gg:443 ssl:default [Odmowa dostêpu]
2025-05-08 13:21:00,984 - db_manager - INFO - Database schema verification completed successfully
2025-05-08 13:21:02,060 - __main__ - INFO - Model training scheduler started
2025-05-08 13:21:13,135 - db_manager - INFO - Database schema verification completed successfully
2025-05-08 13:21:13,135 - __main__ - INFO - Starting Discord bot in background thread
2025-05-08 13:21:13,136 - __main__ - INFO - Discord bot started
2025-05-08 13:21:13,136 - __main__ - INFO - Starting Flask application on port 5000
2025-05-08 13:21:13,139 - discord.client - INFO - logging in using static token
2025-05-08 13:21:13,983 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-08 13:21:13,984 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-08 13:21:14,173 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: fb3310db2285e0e607618e6b35062177).
2025-05-08 13:25:31,150 - db_manager - INFO - Database schema verification completed successfully
2025-05-08 13:25:32,117 - __main__ - INFO - Model training scheduler started
2025-05-08 13:25:32,615 - db_manager - INFO - Database schema verification completed successfully
2025-05-08 13:25:32,616 - __main__ - INFO - Starting Discord bot in background thread
2025-05-08 13:25:32,619 - __main__ - INFO - Discord bot started
2025-05-08 13:25:32,619 - __main__ - INFO - Starting Flask application on port 5000
2025-05-08 13:25:32,622 - discord.client - INFO - logging in using static token
2025-05-08 13:25:33,489 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-08 13:25:33,490 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-08 13:25:33,534 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 86da5bd76f802988b79da503de40f1ab).
2025-05-08 13:27:47,826 - db_manager - INFO - Database schema verification completed successfully
2025-05-08 13:27:48,819 - __main__ - INFO - Model training scheduler started
2025-05-08 13:27:49,321 - db_manager - INFO - Database schema verification completed successfully
2025-05-08 13:27:49,322 - __main__ - INFO - Starting Discord bot in background thread
2025-05-08 13:27:49,324 - __main__ - INFO - Discord bot started
2025-05-08 13:27:49,325 - __main__ - INFO - Starting Flask application on port 5000
2025-05-08 13:27:49,333 - discord.client - INFO - logging in using static token
2025-05-08 13:27:50,183 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-08 13:27:50,183 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-08 13:27:50,222 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 41679b47945e839e986e50a8a207ea29).
2025-05-16 17:49:53,113 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 17:49:54,238 - __main__ - INFO - Model training scheduler started
2025-05-16 17:49:55,363 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 17:49:55,363 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 17:49:55,365 - __main__ - INFO - Discord bot started
2025-05-16 17:49:55,366 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 17:49:55,368 - discord.client - INFO - logging in using static token
2025-05-16 17:49:56,218 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 17:49:56,219 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 17:49:56,305 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f7506912b89d215f189f989c070aae8b).
2025-05-16 17:50:35,350 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 17:50:37,143 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 17:50:37,144 - transcription - INFO - Transcription successful: Kupi³em w B&Q farbê za 30 funtów.
...
2025-05-16 17:50:37,291 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 17:50:37,291 - discord_bot - INFO - Discord transcription: Kupi³em w B&Q farbê za 30 funtów.

2025-05-16 17:50:38,408 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 17:50:38,413 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 30, 'vendor': 'B&Q', 'category': 'Tools', 'description': 'paint'}]
2025-05-16 17:50:38,792 - db_manager - INFO - Added expense record with ID: 107
2025-05-16 17:50:41,680 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 17:52:06,683 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 17:52:08,982 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 17:52:08,984 - transcription - INFO - Transcription successful: Dodaj now¹ kategoriê materia³y i tam przesuñ ostatni zakup, czyli farbê.
...
2025-05-16 17:52:09,143 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 17:52:09,144 - discord_bot - INFO - Discord transcription: Dodaj now¹ kategoriê materia³y i tam przesuñ ostatni zakup, czyli farbê.

2025-05-16 17:52:10,160 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 17:52:10,163 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'paint'}]
2025-05-16 17:52:10,537 - db_manager - INFO - Added expense record with ID: 108
2025-05-16 17:52:12,673 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 17:52:32,568 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 17:52:34,449 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 17:52:34,451 - transcription - INFO - Transcription successful: Dodaj kategoriê zakupów – materia³y.
...
2025-05-16 17:52:34,599 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 17:52:34,599 - discord_bot - INFO - Discord transcription: Dodaj kategoriê zakupów – materia³y.

2025-05-16 17:52:36,034 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 17:52:36,037 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'materials'}]
2025-05-16 17:52:36,189 - db_manager - WARNING - Duplicate expense detected: 2025-05-16 00:00:00, 0, Unknown, Other
2025-05-16 17:52:38,400 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 17:54:00,945 - werkzeug - INFO - 192.168.1.190 - - [16/May/2025 17:54:00] "GET / HTTP/1.1" 200 -
2025-05-16 17:54:19,243 - werkzeug - INFO - 192.168.1.190 - - [16/May/2025 17:54:19] "[31m[1mGET / HTTP/1.1[0m" 400 -
2025-05-16 17:54:19,277 - werkzeug - INFO - 192.168.1.190 - - [16/May/2025 17:54:19] "[33mGET /loginMsg.js HTTP/1.1[0m" 404 -
2025-05-16 17:54:19,331 - werkzeug - INFO - 192.168.1.190 - - [16/May/2025 17:54:19] "[33mGET /cgi/get.cgi?cmd=home_login HTTP/1.1[0m" 404 -
2025-05-16 17:56:07,094 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 17:56:08,486 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 17:56:08,488 - transcription - INFO - Transcription successful: W B&Q kupi³em gips szpachlowy i jest to kategoria materia³y.
...
2025-05-16 17:56:08,705 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 17:56:08,705 - discord_bot - INFO - Discord transcription: W B&Q kupi³em gips szpachlowy i jest to kategoria materia³y.

2025-05-16 17:56:09,770 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 17:56:09,771 - expense_extractor - ERROR - Error in extract_with_llm: Expecting property name enclosed in double quotes: line 4 column 27 (char 72)
Traceback (most recent call last):
  File "C:\_python\Expenses\expense_extractor.py", line 86, in extract_with_llm
    expenses = json.loads(json_str)
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 4 column 27 (char 72)
2025-05-16 17:56:09,783 - discord_bot - INFO - Discord extracted expenses: None
2025-05-16 17:56:22,579 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 17:56:24,080 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 17:56:24,082 - transcription - INFO - Transcription successful: Kupi³em farbê za 25 funtów i jest to kategoria materia³y.
...
2025-05-16 17:56:24,229 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 17:56:24,229 - discord_bot - INFO - Discord transcription: Kupi³em farbê za 25 funtów i jest to kategoria materia³y.

2025-05-16 17:56:25,228 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 17:56:25,231 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 25, 'vendor': 'Unknown', 'category': 'Other', 'description': 'paint'}]
2025-05-16 17:56:25,634 - db_manager - INFO - Added expense record with ID: 109
2025-05-16 17:56:27,805 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 18:01:53,652 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 18:01:56,894 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 18:01:56,896 - transcription - INFO - Transcription successful: Wczoraj kupi³am paliwo za 40 funtów na Sunsbury.
...
2025-05-16 18:01:57,083 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 18:01:57,084 - discord_bot - INFO - Discord transcription: Wczoraj kupi³am paliwo za 40 funtów na Sunsbury.

2025-05-16 18:02:00,264 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 18:02:00,267 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 15, 0, 0), 'amount': 40, 'vendor': 'Sunsbury', 'category': 'Fuel', 'description': 'fuel'}]
2025-05-16 18:02:00,652 - db_manager - INFO - Added expense record with ID: 110
2025-05-16 18:02:03,648 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 18:03:11,706 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 18:03:13,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 18:03:13,771 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport PDF wszystkich wydatków na paliwo.
...
2025-05-16 18:03:13,920 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-16 18:03:14,244 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 18:03:14,422 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 16
2025-05-16 18:03:14,422 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 18:03:14,423 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 18:03:14,424 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-16 18:03:14,424 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-16 18:03:14,424 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 18:03:14,428 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('203.50')}
2025-05-16 18:03:14,662 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-16 18:03:14,663 - report_generator - INFO - Category totals: {'Fuel': Decimal('594.50')}
2025-05-16 18:03:14,663 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-16 18:03:14,668 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-16 18:03:14,669 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 203.5}
2025-05-16 18:03:14,680 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-16 18:03:14,860 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_180314.pdf
2025-05-16 18:03:17,254 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 18:07:46,180 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 18:07:47,292 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 18:07:47,294 - transcription - INFO - Transcription successful: Wyœlij mi na maila, w pdf-ie, raport wszystkich wydatków na paliwo w tym roku.
...
2025-05-16 18:07:47,515 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-16 18:07:47,782 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 18:07:47,960 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 16
2025-05-16 18:07:47,960 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 18:07:47,960 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 18:07:47,961 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-16 18:07:47,961 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-16 18:07:47,961 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 18:07:47,962 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('203.50')}
2025-05-16 18:07:48,081 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-16 18:07:48,081 - report_generator - INFO - Category totals: {'Fuel': Decimal('594.50')}
2025-05-16 18:07:48,082 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-16 18:07:48,087 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-16 18:07:48,087 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 203.5}
2025-05-16 18:07:48,098 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-16 18:07:48,272 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_180747.pdf
2025-05-16 18:07:50,571 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 18:09:12,451 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 18:09:23,763 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:09:33,781 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:09:43,805 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:09:53,815 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:10:03,838 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:10:13,856 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:10:23,877 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 70 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:10:33,886 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 80 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:10:43,905 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 90 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:10:53,927 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 100 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:11:03,942 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 110 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:11:13,962 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 120 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:11:23,973 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 130 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:11:33,989 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 140 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:11:44,003 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 150 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:11:54,015 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 160 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:12:04,029 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 170 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:12:14,051 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 180 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:12:24,071 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 190 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:12:34,086 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 200 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:12:44,098 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 210 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:12:54,120 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 220 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:13:04,126 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 230 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:13:14,137 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 240 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:13:24,150 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 250 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:13:34,172 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 260 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:13:44,189 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 270 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:13:54,201 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 280 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:14:04,211 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 290 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:14:14,226 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 300 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:14:24,237 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 310 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:14:34,260 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 320 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:14:44,266 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 330 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:14:54,286 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 340 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:15:04,295 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 350 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:15:14,312 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 360 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:15:24,330 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 370 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:15:34,343 - discord.gateway - WARNING - Shard ID None heartbeat blocked for more than 380 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1032, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 135, in run_discord_bot
    bot.run(Config.DISCORD_BOT_TOKEN)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 860, in run
    asyncio.run(runner())
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\_python\Expenses\.venv\Lib\site-packages\discord\client.py", line 441, in _run_event
    await coro(*args, **kwargs)
  File "C:\_python\Expenses\discord_bot.py", line 48, in on_message
    await process_discord_audio(message, attachment)
  File "C:\_python\Expenses\discord_bot.py", line 67, in process_discord_audio
    transcription = transcribe_audio(temp_file.name)
  File "C:\_python\Expenses\transcription.py", line 57, in transcribe_audio
    response = client.audio.transcriptions.create(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\resources\audio\transcriptions.py", line 116, in create
    return self._post(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\openai\_base_client.py", line 950, in _request
    response = self._client.send(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpx\_transports\default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\_python\Expenses\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1232, in recv
    return self.read(buflen)
  File "C:\Users\rgrod\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len)

2025-05-16 18:15:38,143 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 18:15:38,146 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport w PDF wszystkich wydatków na paliwo w roku 2025.
...
2025-05-16 18:15:38,353 - utils.email_helper - INFO - Rozpoznano kategoriê do raportu: Fuel
2025-05-16 18:15:38,640 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 18:15:38,863 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 16
2025-05-16 18:15:38,864 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 18:15:38,864 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 18:15:38,864 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-16 18:15:38,864 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-16 18:15:38,865 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 18:15:38,865 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('203.50')}
2025-05-16 18:15:38,974 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-16 18:15:38,975 - report_generator - INFO - Category totals: {'Fuel': Decimal('594.50')}
2025-05-16 18:15:38,975 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-16 18:15:38,980 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-16 18:15:38,981 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 203.5}
2025-05-16 18:15:38,992 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-16 18:15:39,179 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_181538.pdf
2025-05-16 18:15:42,155 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 18:15:42,461 - discord.gateway - INFO - Shard ID None session has been invalidated.
2025-05-16 18:15:48,051 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f1ad8e3620c72109a29e8b3c30671b25).
2025-05-16 18:27:34,918 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 18:27:36,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 18:27:36,876 - transcription - INFO - Transcription successful: Dzisiaj w Lidlu kupi³em piwo za 3 funty.
...
2025-05-16 18:27:37,078 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 18:27:37,078 - discord_bot - INFO - Discord transcription: Dzisiaj w Lidlu kupi³em piwo za 3 funty.

2025-05-16 18:27:38,433 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 18:27:38,436 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 3, 'vendor': 'Lidl', 'category': 'Alcohol', 'description': 'beer'}]
2025-05-16 18:27:38,845 - db_manager - INFO - Added expense record with ID: 111
2025-05-16 18:27:42,356 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 18:53:16,735 - discord.gateway - INFO - Shard ID None has successfully RESUMED session f1ad8e3620c72109a29e8b3c30671b25.
2025-05-16 18:54:06,258 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 18:54:08,207 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 18:54:08,207 - transcription - INFO - Transcription successful: Dzisiaj w Tesco kupi³em chleb za 1,75.
...
2025-05-16 18:54:08,403 - utils.email_helper - WARNING - Nie rozpoznano kategorii do raportu z transkrypcji.
2025-05-16 18:54:08,403 - discord_bot - INFO - Discord transcription: Dzisiaj w Tesco kupi³em chleb za 1,75.

2025-05-16 18:54:10,010 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 18:54:10,011 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 1.75, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'bread'}]
2025-05-16 18:54:10,397 - db_manager - INFO - Added expense record with ID: 112
2025-05-16 18:54:12,556 - utils.email_helper - INFO - Wys³ano potwierdzenie mailowe na adres: robgrodev@gmail.com
2025-05-16 19:08:18,668 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:08:19,712 - __main__ - INFO - Model training scheduler started
2025-05-16 19:08:20,686 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:08:20,688 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 19:08:20,694 - __main__ - INFO - Discord bot started
2025-05-16 19:08:20,695 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 19:08:20,704 - discord.client - INFO - logging in using static token
2025-05-16 19:08:21,556 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 19:08:21,556 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 19:08:21,716 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 45438bc3d414574d9ebe851d892fbdca).
2025-05-16 19:10:16,617 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:10:17,616 - __main__ - INFO - Model training scheduler started
2025-05-16 19:10:18,116 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:10:18,118 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 19:10:18,120 - __main__ - INFO - Discord bot started
2025-05-16 19:10:18,121 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 19:10:18,129 - discord.client - INFO - logging in using static token
2025-05-16 19:10:18,989 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 19:10:18,989 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 19:10:19,028 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: dab6f760707776cd4e34b58af7af1ee4).
2025-05-16 19:10:37,455 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:10:40,057 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:10:40,059 - transcription - INFO - Transcription successful: Wczoraj w B&Q kupi³em farbê do œcian za 30 funtów. Dodaj to do nowej kategorii materia³y.
...
2025-05-16 19:10:40,207 - utils.email_helper - WARNING - No category recognized for report from transcription.
2025-05-16 19:10:40,208 - discord_bot - INFO - Discord transcription: Wczoraj w B&Q kupi³em farbê do œcian za 30 funtów. Dodaj to do nowej kategorii materia³y.

2025-05-16 19:10:41,584 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 19:10:41,587 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 15, 0, 0), 'amount': 30, 'vendor': 'B&Q', 'category': 'Tools', 'description': 'paint'}]
2025-05-16 19:10:41,928 - db_manager - INFO - Added expense record with ID: 113
2025-05-16 19:10:44,088 - utils.email_helper - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 19:10:56,908 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:10:58,693 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:10:58,695 - transcription - INFO - Transcription successful: Dodaj now¹ kategoriê – materia³y.
...
2025-05-16 19:10:58,886 - utils.email_helper - WARNING - No category recognized for report from transcription.
2025-05-16 19:10:58,886 - discord_bot - INFO - Discord transcription: Dodaj now¹ kategoriê – materia³y.

2025-05-16 19:10:59,872 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 19:10:59,898 - discord_bot - INFO - Discord extracted expenses: []
2025-05-16 19:18:16,439 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:18:17,444 - __main__ - INFO - Model training scheduler started
2025-05-16 19:18:17,945 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:18:17,946 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 19:18:17,948 - __main__ - INFO - Discord bot started
2025-05-16 19:18:17,949 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 19:18:17,952 - discord.client - INFO - logging in using static token
2025-05-16 19:18:18,795 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 19:18:18,796 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 19:18:18,908 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: a0cfb2fc69be70d7314bc31d72875bb1).
2025-05-16 19:18:28,996 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:18:30,423 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:18:30,425 - transcription - INFO - Transcription successful: Dodaj kategoriê materia³y.
...
2025-05-16 19:18:30,425 - discord_bot - INFO - Discord transcription: Dodaj kategoriê materia³y.

2025-05-16 19:18:30,426 - nlp_category_parser - INFO - Detected category command with regex: 'Dodaj kategoriê materia³y.
' -> new category: 'Materia³y'
2025-05-16 19:18:30,426 - discord_bot - INFO - Processing category addition command for: Materia³y
2025-05-16 19:18:30,620 - db_manager - INFO - Added new category: 'Materia³y' with ID: 14
2025-05-16 19:18:33,195 - utils.email_helper - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 19:19:05,261 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:19:07,555 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:19:07,557 - transcription - INFO - Transcription successful: Miejêtkiu wczoraj kupi³em farbê do œcian za 20 funtus.
...
2025-05-16 19:19:07,558 - discord_bot - INFO - Discord transcription: Miejêtkiu wczoraj kupi³em farbê do œcian za 20 funtus.

2025-05-16 19:19:07,704 - utils.email_helper - WARNING - No category recognized for report from transcription.
2025-05-16 19:19:08,671 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 19:19:08,678 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 15, 0, 0), 'amount': 20, 'vendor': 'Miejêtkiu', 'category': 'Materials', 'description': 'paint'}]
2025-05-16 19:19:09,072 - db_manager - INFO - Added expense record with ID: 114
2025-05-16 19:19:11,388 - utils.email_helper - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 19:19:43,977 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:19:50,977 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:19:50,978 - transcription - INFO - Transcription successful: Dzisiaj w B&Q kupi³em farbê za 12,50 z³.
...
2025-05-16 19:19:50,978 - discord_bot - INFO - Discord transcription: Dzisiaj w B&Q kupi³em farbê za 12,50 z³.

2025-05-16 19:19:51,130 - utils.email_helper - WARNING - No category recognized for report from transcription.
2025-05-16 19:19:52,059 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 19:19:52,060 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 2.78, 'vendor': 'B&Q', 'category': 'Materials', 'description': 'paint'}]
2025-05-16 19:19:52,401 - db_manager - INFO - Added expense record with ID: 115
2025-05-16 19:19:54,660 - utils.email_helper - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 19:20:14,973 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:20:16,584 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:20:16,585 - transcription - INFO - Transcription successful: Z B&Q kupi³em farbê za 12,50.
...
2025-05-16 19:20:16,585 - discord_bot - INFO - Discord transcription: Z B&Q kupi³em farbê za 12,50.

2025-05-16 19:20:16,729 - utils.email_helper - WARNING - No category recognized for report from transcription.
2025-05-16 19:20:18,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 19:20:18,010 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 12.5, 'vendor': 'B&Q', 'category': 'Materials', 'description': 'paint'}]
2025-05-16 19:20:18,371 - db_manager - INFO - Added expense record with ID: 116
2025-05-16 19:20:20,535 - utils.email_helper - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 19:21:08,641 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 19:21:09,703 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 19:21:09,705 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport w PDF wydatków na paliwo w 2025 roku.
...
2025-05-16 19:21:09,705 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila raport w PDF wydatków na paliwo w 2025 roku.

2025-05-16 19:21:09,851 - utils.email_helper - INFO - Recognized category for report: Fuel
2025-05-16 19:21:10,117 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 19:21:10,291 - report_generator - INFO - Report data - Grouped rows: 4, Detailed rows: 16
2025-05-16 19:21:10,292 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 19:21:10,292 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 19:21:10,292 - report_generator - INFO - Creating time chart. Data shape: (4, 5)
2025-05-16 19:21:10,293 - report_generator - INFO - Period labels: ['2022-03', '2022-10', '2025-04', '2025-05']
2025-05-16 19:21:10,293 - report_generator - INFO - Total amount sum: 594.50
2025-05-16 19:21:10,294 - report_generator - INFO - Time series data for category 'Fuel': {'2022-03': Decimal('188.00'), '2022-10': Decimal('38.00'), '2025-04': Decimal('165.00'), '2025-05': Decimal('203.50')}
2025-05-16 19:21:10,497 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-16 19:21:10,497 - report_generator - INFO - Category totals: {'Fuel': Decimal('594.50')}
2025-05-16 19:21:10,497 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-16 19:21:10,503 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-16 19:21:10,503 - report_generator - INFO - Monthly totals values: {'2022-03': 188.0, '2022-10': 38.0, '2025-04': 165.0, '2025-05': 203.5}
2025-05-16 19:21:10,513 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-16 19:21:10,687 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_192110.pdf
2025-05-16 19:21:12,942 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 19:46:12,913 - discord.gateway - INFO - Shard ID None has successfully RESUMED session a0cfb2fc69be70d7314bc31d72875bb1.
2025-05-16 20:12:04,865 - discord.gateway - INFO - Shard ID None has successfully RESUMED session a0cfb2fc69be70d7314bc31d72875bb1.
2025-05-16 20:23:38,111 - discord.gateway - WARNING - Can't keep up, shard ID None websocket is 14.8s behind.
2025-05-16 20:23:38,117 - discord.gateway - INFO - Shard ID None has successfully RESUMED session a0cfb2fc69be70d7314bc31d72875bb1.
2025-05-16 20:24:08,830 - discord.gateway - INFO - Shard ID None has successfully RESUMED session a0cfb2fc69be70d7314bc31d72875bb1.
2025-05-16 21:03:19,891 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:03:20,880 - __main__ - INFO - Model training scheduler started
2025-05-16 21:03:21,430 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:03:21,431 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 21:03:21,431 - __main__ - INFO - Discord bot started
2025-05-16 21:03:21,431 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 21:03:21,433 - discord.client - INFO - logging in using static token
2025-05-16 21:03:22,280 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 21:03:22,280 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 21:03:22,830 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 40fb9ad09ec60a97c5c705f4f29b55b2).
2025-05-16 21:03:42,367 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:03:44,066 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:03:44,068 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wszystkich wydatków na paliwo w 2025 roku.
...
2025-05-16 21:03:44,068 - discord_bot - INFO - Discord transcription: Wyœlij mi raport PDF wszystkich wydatków na paliwo w 2025 roku.

2025-05-16 21:03:44,237 - nlp_category_parser - INFO - Detected year range: 2025 -> 2025-01-01 to 2025-12-31
2025-05-16 21:03:44,238 - utils.email_helper - INFO - Report parameters - Category: Fuel, Date range: 2025-01-01 to 2025-12-31, Format: pdf
2025-05-16 21:03:44,238 - utils.email_helper - INFO - Generating report - Category: Fuel, Date range: 2025-01-01 to 2025-12-31
2025-05-16 21:03:44,505 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:03:44,683 - report_generator - INFO - Report data - Grouped rows: 2, Detailed rows: 11
2025-05-16 21:03:44,684 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 21:03:44,685 - report_generator - INFO - Total amount sum: 368.50
2025-05-16 21:03:44,688 - report_generator - INFO - Creating time chart. Data shape: (2, 5)
2025-05-16 21:03:44,689 - report_generator - INFO - Period labels: ['2025-04', '2025-05']
2025-05-16 21:03:44,689 - report_generator - INFO - Total amount sum: 368.50
2025-05-16 21:03:44,692 - report_generator - INFO - Time series data for category 'Fuel': {'2025-04': Decimal('165.00'), '2025-05': Decimal('203.50')}
2025-05-16 21:03:44,838 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-16 21:03:44,839 - report_generator - INFO - Category totals: {'Fuel': Decimal('368.50')}
2025-05-16 21:03:44,839 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-16 21:03:44,845 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-16 21:03:44,845 - report_generator - INFO - Monthly totals values: {'2025-04': 165.0, '2025-05': 203.5}
2025-05-16 21:03:44,854 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-16 21:03:45,014 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_210344.pdf
2025-05-16 21:03:47,626 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 21:04:50,719 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:04:52,548 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:04:52,551 - transcription - INFO - Transcription successful: WeŸmy im IPD, raport wydatków na odzie¿ w 2025 roku.
...
2025-05-16 21:04:52,551 - discord_bot - INFO - Discord transcription: WeŸmy im IPD, raport wydatków na odzie¿ w 2025 roku.

2025-05-16 21:04:52,702 - nlp_category_parser - INFO - Detected year range: 2025 -> 2025-01-01 to 2025-12-31
2025-05-16 21:04:52,703 - utils.email_helper - INFO - Report parameters - Category: None, Date range: 2025-01-01 to 2025-12-31, Format: excel
2025-05-16 21:04:52,703 - utils.email_helper - INFO - Generating report - Category: All, Date range: 2025-01-01 to 2025-12-31
2025-05-16 21:04:53,399 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:04:53,729 - report_generator - INFO - Report data - Grouped rows: 15, Detailed rows: 78
2025-05-16 21:04:53,730 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 21:04:53,731 - report_generator - INFO - Total amount sum: 1170.53
2025-05-16 21:04:53,733 - report_generator - INFO - Creating time chart. Data shape: (15, 5)
2025-05-16 21:04:53,734 - report_generator - INFO - Period labels: ['2025-04', '2025-05']
2025-05-16 21:04:53,735 - report_generator - INFO - Total amount sum: 1170.53
2025-05-16 21:04:53,754 - report_generator - INFO - Pivot table shape: (2, 9)
2025-05-16 21:04:53,768 - report_generator - ERROR - Error creating multi-category time chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 137, in create_visualizations
    pivot_df.plot(kind='line', marker='o', ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-16 21:04:53,786 - report_generator - INFO - Category totals: {'Alcohol': Decimal('249.70'), 'Clothing': Decimal('318.00'), 'Fuel': Decimal('368.50'), 'Groceries': Decimal('92.00'), 'Materials': Decimal('35.28'), 'Office supplies': Decimal('4.25'), 'Other': Decimal('25.00'), 'Tools': Decimal('75.00'), 'Transportation': Decimal('2.80')}
2025-05-16 21:04:53,867 - report_generator - INFO - Category pie chart created successfully
2025-05-16 21:04:53,877 - report_generator - ERROR - Error creating comparison chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 252, in create_visualizations
    pivot_df.plot(kind='bar', stacked=True, ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-16 21:04:54,047 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_210453.xlsx
2025-05-16 21:04:57,647 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 21:06:11,753 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:06:13,426 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:06:13,426 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport PDF wszystkich wydatków w 2025 roku w kategorii Clothing.
...
2025-05-16 21:06:13,426 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila raport PDF wszystkich wydatków w 2025 roku w kategorii Clothing.

2025-05-16 21:06:13,570 - nlp_category_parser - INFO - Detected year range: 2025 -> 2025-01-01 to 2025-12-31
2025-05-16 21:06:13,570 - utils.email_helper - INFO - Report parameters - Category: Clothing, Date range: 2025-01-01 to 2025-12-31, Format: pdf
2025-05-16 21:06:13,570 - utils.email_helper - INFO - Generating report - Category: Clothing, Date range: 2025-01-01 to 2025-12-31
2025-05-16 21:06:14,027 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:06:14,216 - report_generator - INFO - Report data - Grouped rows: 2, Detailed rows: 11
2025-05-16 21:06:14,216 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-16 21:06:14,216 - report_generator - INFO - Total amount sum: 318.00
2025-05-16 21:06:14,216 - report_generator - INFO - Creating time chart. Data shape: (2, 5)
2025-05-16 21:06:14,216 - report_generator - INFO - Period labels: ['2025-04', '2025-05']
2025-05-16 21:06:14,217 - report_generator - INFO - Total amount sum: 318.00
2025-05-16 21:06:14,217 - report_generator - INFO - Time series data for category 'Clothing': {'2025-04': Decimal('273.00'), '2025-05': Decimal('45.00')}
2025-05-16 21:06:14,330 - report_generator - INFO - Successfully created time chart for category 'Clothing'
2025-05-16 21:06:14,331 - report_generator - INFO - Category totals: {'Clothing': Decimal('318.00')}
2025-05-16 21:06:14,331 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-16 21:06:14,338 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-16 21:06:14,338 - report_generator - INFO - Monthly totals values: {'2025-04': 273.0, '2025-05': 45.0}
2025-05-16 21:06:14,348 - report_generator - INFO - Created bar chart for category 'Clothing'
2025-05-16 21:06:14,504 - report_generator - INFO - Report generated successfully: reports\expense_report_20250516_210614.pdf
2025-05-16 21:06:16,890 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-16 21:20:08,208 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:20:09,229 - __main__ - INFO - Model training scheduler started
2025-05-16 21:20:09,744 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:20:09,744 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 21:20:09,744 - __main__ - INFO - Discord bot started
2025-05-16 21:20:09,745 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 21:20:09,746 - discord.client - INFO - logging in using static token
2025-05-16 21:20:10,599 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 21:20:10,599 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 21:20:10,603 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 44ca0d488fd1e929aacf23d6372ccd6a).
2025-05-16 21:20:50,473 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:20:52,297 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:20:52,298 - transcription - INFO - Transcription successful: Dodaj now¹ kategoriê – materia³y.
...
2025-05-16 21:20:52,298 - discord_bot - INFO - Discord transcription: Dodaj now¹ kategoriê – materia³y.

2025-05-16 21:20:52,299 - nlp_category_parser - INFO - Detected category command with regex: 'Dodaj now¹ kategoriê – materia³y.
' -> new category: ''
2025-05-16 21:20:52,555 - utils.email_helper - INFO - Report parameters - Category: None, Date range: None to None, Format: excel
2025-05-16 21:20:52,555 - utils.email_helper - WARNING - No category or date range recognized for report from transcription.
2025-05-16 21:20:54,204 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 21:20:54,206 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'materials'}]
2025-05-16 21:20:54,354 - db_manager - WARNING - Duplicate expense detected: 2025-05-16 00:00:00, 0, Unknown, Other
2025-05-16 21:20:56,495 - utils.email_helper - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 21:30:16,176 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:30:17,206 - __main__ - INFO - Model training scheduler started
2025-05-16 21:30:17,706 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:30:17,706 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 21:30:17,707 - __main__ - INFO - Discord bot started
2025-05-16 21:30:17,707 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 21:30:17,709 - discord.client - INFO - logging in using static token
2025-05-16 21:30:18,563 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 21:30:18,563 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 21:30:18,641 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f188a13e8f38810d785526ace133dc9e).
2025-05-16 21:30:33,742 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:30:35,563 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:30:35,564 - transcription - INFO - Transcription successful: Dodaj kategoriê materia³y.
...
2025-05-16 21:30:35,564 - discord_bot - INFO - Discord transcription: Dodaj kategoriê materia³y.

2025-05-16 21:30:35,565 - nlp_category_parser - INFO - Detected category command: 'Dodaj kategoriê materia³y.
' -> new category: 'kategoriê materia³y'
2025-05-16 21:30:35,565 - discord_bot - INFO - Processing category addition command for: kategoriê materia³y
2025-05-16 21:30:35,759 - db_manager - INFO - Added new category: 'Kategoriê Materia³y' with ID: 16
2025-05-16 21:30:37,675 - utils.email_helper - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 21:38:21,055 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:38:22,121 - __main__ - INFO - Model training scheduler started
2025-05-16 21:38:22,631 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:38:22,633 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 21:38:22,635 - __main__ - INFO - Discord bot started
2025-05-16 21:38:22,636 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 21:38:22,641 - discord.client - INFO - logging in using static token
2025-05-16 21:38:23,495 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 21:38:23,495 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 21:38:23,682 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 2b1ff8dd6ba86fb04873d7b36b39e852).
2025-05-16 21:38:38,830 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:38:40,074 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:38:40,076 - transcription - INFO - Transcription successful: Dodaj kategoriê materia³y.
...
2025-05-16 21:38:40,076 - discord_bot - INFO - Discord transcription: Dodaj kategoriê materia³y.

2025-05-16 21:38:40,076 - nlp_category_parser - INFO - Detected category command: 'Dodaj kategoriê materia³y.
' -> new category: 'Materia³y'
2025-05-16 21:38:40,076 - discord_bot - INFO - Processing category addition command for: Materia³y
2025-05-16 21:38:40,336 - db_manager - INFO - Added new category: 'Materia³y' with ID: 17
2025-05-16 21:38:42,247 - utils.email_helper - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 21:44:03,244 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:44:04,251 - __main__ - INFO - Model training scheduler started
2025-05-16 21:44:04,853 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 21:44:04,854 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 21:44:04,857 - __main__ - INFO - Discord bot started
2025-05-16 21:44:04,857 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 21:44:04,863 - discord.client - INFO - logging in using static token
2025-05-16 21:44:05,724 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 21:44:05,724 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 21:44:05,839 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 20584f7823241334c3214954c569359e).
2025-05-16 21:44:17,884 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 21:44:19,699 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 21:44:19,699 - transcription - INFO - Transcription successful: Dodaj kategoriê materia³y.
...
2025-05-16 21:44:19,699 - discord_bot - INFO - Discord transcription: Dodaj kategoriê materia³y.

2025-05-16 21:44:19,700 - nlp_category_parser - INFO - Detected category command: 'Dodaj kategoriê materia³y.
' -> new category: 'Materia³y'
2025-05-16 21:44:19,700 - discord_bot - INFO - Processing category addition command for: Materia³y
2025-05-16 21:44:19,894 - db_manager - INFO - Added new category: 'Materia³y' with ID: 18
2025-05-16 21:44:21,735 - utils.email_helper - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 23:12:24,764 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 23:12:25,810 - __main__ - INFO - Model training scheduler started
2025-05-16 23:12:25,810 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 23:12:25,811 - __main__ - INFO - Discord bot started
2025-05-16 23:12:25,811 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 23:12:25,813 - discord.client - INFO - logging in using static token
2025-05-16 23:12:26,661 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 23:12:26,661 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 23:12:26,687 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f99388d2627d50fd7bff3bfb55705b86).
2025-05-16 23:12:53,338 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:12:55,288 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:12:55,289 - transcription - INFO - Transcription successful: Dodaj kategoriê materia³y.
...
2025-05-16 23:12:55,289 - discord_bot - INFO - Discord transcription: Dodaj kategoriê materia³y.

2025-05-16 23:12:56,111 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:12:56,113 - category_service - INFO - LLM translated 'materia³y' to 'Materials'
2025-05-16 23:12:56,113 - category_service - INFO - Detected category command: 'Dodaj kategoriê materia³y.
' -> raw: 'materia³y' -> translated: 'Materials'
2025-05-16 23:12:56,113 - discord_bot - INFO - Processing category addition command for: Materials
2025-05-16 23:12:56,354 - db_manager - INFO - Added new category: 'Materials' with ID: 19
2025-05-16 23:12:58,362 - email_service - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 23:13:36,220 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:13:41,164 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:13:41,166 - transcription - INFO - Transcription successful: Dobra, w B&Q kupi³em farbê za 38 funtów. Kategoria materia³y.
...
2025-05-16 23:13:41,166 - discord_bot - INFO - Discord transcription: Dobra, w B&Q kupi³em farbê za 38 funtów. Kategoria materia³y.

2025-05-16 23:13:41,329 - email_service - INFO - Report parameters - Category: None, Date range: None to None, Format: excel
2025-05-16 23:13:41,329 - email_service - WARNING - No category or date range recognized for report from transcription.
2025-05-16 23:13:42,239 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:13:42,242 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 38, 'vendor': 'B&Q', 'category': 'Materials', 'description': 'paint'}]
2025-05-16 23:13:42,660 - db_manager - INFO - Added expense record with ID: 117
2025-05-16 23:13:45,404 - email_service - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 23:14:20,924 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:14:22,298 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:14:22,300 - transcription - INFO - Transcription successful: Wczoraj w Tesco kupi³em farbê do w³osów za 5,50.
...
2025-05-16 23:14:22,301 - discord_bot - INFO - Discord transcription: Wczoraj w Tesco kupi³em farbê do w³osów za 5,50.

2025-05-16 23:14:22,448 - email_service - INFO - Report parameters - Category: None, Date range: None to None, Format: excel
2025-05-16 23:14:22,448 - email_service - WARNING - No category or date range recognized for report from transcription.
2025-05-16 23:14:23,389 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:14:23,392 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 15, 0, 0), 'amount': 5.5, 'vendor': 'Tesco', 'category': 'Groceries', 'description': 'hair dye'}]
2025-05-16 23:14:23,732 - db_manager - INFO - Added expense record with ID: 118
2025-05-16 23:14:25,824 - email_service - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 23:15:24,961 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:15:26,404 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:15:26,406 - transcription - INFO - Transcription successful: Dodaj kategoriê ubezpieczenie.
...
2025-05-16 23:15:26,406 - discord_bot - INFO - Discord transcription: Dodaj kategoriê ubezpieczenie.

2025-05-16 23:15:27,031 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:15:27,034 - category_service - INFO - LLM translated 'ubezpieczenie' to 'Insurance'
2025-05-16 23:15:27,034 - category_service - INFO - Detected category command: 'Dodaj kategoriê ubezpieczenie.
' -> raw: 'ubezpieczenie' -> translated: 'Insurance'
2025-05-16 23:15:27,034 - discord_bot - INFO - Processing category addition command for: Insurance
2025-05-16 23:15:27,233 - db_manager - INFO - Added new category: 'Insurance' with ID: 20
2025-05-16 23:15:29,739 - email_service - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 23:16:26,149 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:16:28,907 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:16:28,908 - transcription - INFO - Transcription successful: Powodzenia!
...
2025-05-16 23:16:28,909 - discord_bot - INFO - Discord transcription: Powodzenia!

2025-05-16 23:16:29,059 - email_service - INFO - Report parameters - Category: None, Date range: None to None, Format: excel
2025-05-16 23:16:29,059 - email_service - WARNING - No category or date range recognized for report from transcription.
2025-05-16 23:16:30,227 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:16:30,230 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'Wish'}]
2025-05-16 23:16:30,376 - db_manager - WARNING - Duplicate expense detected: 2025-05-16 00:00:00, 0, Unknown, Other
2025-05-16 23:16:32,453 - email_service - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 23:17:20,083 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:17:21,886 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:17:21,886 - transcription - INFO - Transcription successful: Dodaj kategoriê higiena i chemia gospodarcza.
...
2025-05-16 23:17:21,887 - discord_bot - INFO - Discord transcription: Dodaj kategoriê higiena i chemia gospodarcza.

2025-05-16 23:17:22,518 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:17:22,521 - category_service - INFO - LLM translated 'higiena i chemia gospodarcza' to 'Hygiene And Household Chemicals'
2025-05-16 23:17:22,522 - category_service - INFO - Detected category command: 'Dodaj kategoriê higiena i chemia gospodarcza.
' -> raw: 'higiena i chemia gospodarcza' -> translated: 'Hygiene And Household Chemicals'
2025-05-16 23:17:22,522 - discord_bot - INFO - Processing category addition command for: Hygiene And Household Chemicals
2025-05-16 23:17:22,782 - db_manager - INFO - Added new category: 'Hygiene And Household Chemicals' with ID: 21
2025-05-16 23:17:25,267 - email_service - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 23:18:08,020 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:18:09,280 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:18:09,282 - transcription - INFO - Transcription successful: Dodaj kategoriê chemia gospodarcza.
...
2025-05-16 23:18:09,282 - discord_bot - INFO - Discord transcription: Dodaj kategoriê chemia gospodarcza.

2025-05-16 23:18:09,962 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:18:09,965 - category_service - INFO - LLM translated 'chemia gospodarcza' to 'Household Chemicals'
2025-05-16 23:18:09,966 - category_service - INFO - Detected category command: 'Dodaj kategoriê chemia gospodarcza.
' -> raw: 'chemia gospodarcza' -> translated: 'Household Chemicals'
2025-05-16 23:18:09,966 - discord_bot - INFO - Processing category addition command for: Household Chemicals
2025-05-16 23:18:10,175 - db_manager - INFO - Added new category: 'Household Chemicals' with ID: 22
2025-05-16 23:18:12,703 - email_service - INFO - Category addition email sent to: robgrodev@gmail.com
2025-05-16 23:19:27,312 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-16 23:19:28,421 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-16 23:19:28,423 - transcription - INFO - Transcription successful: Wyœlij mi na maila raport PDF, gdzie s¹ nazwy wszystkich kategorii.
...
2025-05-16 23:19:28,423 - discord_bot - INFO - Discord transcription: Wyœlij mi na maila raport PDF, gdzie s¹ nazwy wszystkich kategorii.

2025-05-16 23:19:28,581 - email_service - INFO - Report parameters - Category: None, Date range: None to None, Format: pdf
2025-05-16 23:19:28,581 - email_service - WARNING - No category or date range recognized for report from transcription.
2025-05-16 23:19:29,652 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-16 23:19:29,656 - discord_bot - INFO - Discord extracted expenses: [{'date': datetime.datetime(2025, 5, 16, 0, 0), 'amount': 0, 'vendor': 'Unknown', 'category': 'Other', 'description': 'report'}]
2025-05-16 23:19:29,824 - db_manager - WARNING - Duplicate expense detected: 2025-05-16 00:00:00, 0, Unknown, Other
2025-05-16 23:19:31,959 - email_service - INFO - Confirmation email sent to: robgrodev@gmail.com
2025-05-16 23:30:36,610 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 23:30:37,655 - __main__ - INFO - Model training scheduler started
2025-05-16 23:30:37,655 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 23:30:37,655 - __main__ - INFO - Discord bot started
2025-05-16 23:30:37,655 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 23:30:37,657 - discord.client - INFO - logging in using static token
2025-05-16 23:30:38,498 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 23:30:38,498 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 23:30:38,611 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 9058ad5a76cc43ad92fbe0c2967e95f6).
2025-05-16 23:42:04,237 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 23:42:05,291 - __main__ - INFO - Model training scheduler started
2025-05-16 23:42:05,291 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 23:42:05,292 - __main__ - INFO - Discord bot started
2025-05-16 23:42:05,292 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 23:42:05,294 - discord.client - INFO - logging in using static token
2025-05-16 23:42:06,137 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 23:42:06,137 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 23:42:06,312 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: c9f1fe3b78d966b1bdeb65e30f4e659a).
2025-05-16 23:42:12,443 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:42:12] "GET /api/categories HTTP/1.1" 200 -
2025-05-16 23:45:47,666 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 23:45:48,735 - __main__ - INFO - Model training scheduler started
2025-05-16 23:45:48,735 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 23:45:48,736 - __main__ - INFO - Discord bot started
2025-05-16 23:45:48,736 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 23:45:48,738 - discord.client - INFO - logging in using static token
2025-05-16 23:45:49,594 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 23:45:49,594 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 23:45:49,630 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 02a922e8301d4ba52bda126c8bea67c1).
2025-05-16 23:45:56,477 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:45:56] "GET /api/categories HTTP/1.1" 200 -
2025-05-16 23:51:07,946 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:51:07] "GET /api/categories HTTP/1.1" 200 -
2025-05-16 23:54:48,937 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 23:54:49,995 - __main__ - INFO - Model training scheduler started
2025-05-16 23:54:49,995 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 23:54:49,996 - __main__ - INFO - Discord bot started
2025-05-16 23:54:49,996 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 23:54:49,997 - discord.client - INFO - logging in using static token
2025-05-16 23:54:50,849 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 23:54:50,850 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 23:54:51,022 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 39f9765151173b4986676d3df4071652).
2025-05-16 23:54:56,431 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:54:56] "GET /api/categories HTTP/1.1" 200 -
2025-05-16 23:58:16,321 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:58:16] "GET /api/categories HTTP/1.1" 200 -
2025-05-16 23:58:41,186 - db_manager - INFO - Database schema verification completed successfully
2025-05-16 23:58:42,265 - __main__ - INFO - Model training scheduler started
2025-05-16 23:58:42,265 - __main__ - INFO - Starting Discord bot in background thread
2025-05-16 23:58:42,266 - __main__ - INFO - Discord bot started
2025-05-16 23:58:42,266 - __main__ - INFO - Starting Flask application on port 5000
2025-05-16 23:58:42,268 - discord.client - INFO - logging in using static token
2025-05-16 23:58:43,112 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-16 23:58:43,113 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-16 23:58:43,199 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 622a77fef25def15b2725f505b9e1ee8).
2025-05-16 23:59:05,029 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:59:05] "GET /api/categories HTTP/1.1" 200 -
2025-05-16 23:59:30,475 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:59:30] "OPTIONS /api/process-manual-expense HTTP/1.1" 200 -
2025-05-16 23:59:31,153 - db_manager - INFO - Added expense record with ID: 119
2025-05-16 23:59:31,155 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:59:31] "POST /api/process-manual-expense HTTP/1.1" 200 -
2025-05-16 23:59:31,315 - werkzeug - INFO - 127.0.0.1 - - [16/May/2025 23:59:31] "GET /api/categories HTTP/1.1" 200 -
2025-05-17 00:00:40,720 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:00:40] "OPTIONS /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:00:41,327 - db_manager - INFO - Added expense record with ID: 120
2025-05-17 00:00:41,329 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:00:41] "POST /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:00:41,525 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:00:41] "GET /api/categories HTTP/1.1" 200 -
2025-05-17 00:01:01,754 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:01:01] "GET /api/view-expenses?page=1&per_page=10 HTTP/1.1" 200 -
2025-05-17 00:01:07,556 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:01:07] "GET /api/view-expenses?page=1&per_page=10&category=Groceries HTTP/1.1" 200 -
2025-05-17 00:01:11,530 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:01:11] "GET /api/view-expenses?page=2&per_page=10&category=Groceries HTTP/1.1" 200 -
2025-05-17 00:02:01,085 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:02:01] "OPTIONS /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:02:01,576 - report_generator - INFO - Report data - Grouped rows: 5, Detailed rows: 11
2025-05-17 00:02:01,576 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:02:01,576 - report_generator - INFO - Total amount sum: 368.50
2025-05-17 00:02:01,577 - report_generator - INFO - Creating time chart. Data shape: (5, 5)
2025-05-17 00:02:01,577 - report_generator - INFO - Period labels: ['2025-16', '2025-17', '2025-18', '2025-19', '2025-20']
2025-05-17 00:02:01,577 - report_generator - INFO - Total amount sum: 368.50
2025-05-17 00:02:01,578 - report_generator - INFO - Time series data for category 'Fuel': {'2025-16': Decimal('60.00'), '2025-17': Decimal('105.00'), '2025-18': Decimal('100.00'), '2025-19': Decimal('63.50'), '2025-20': Decimal('40.00')}
2025-05-17 00:02:01,720 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-17 00:02:01,721 - report_generator - INFO - Category totals: {'Fuel': Decimal('368.50')}
2025-05-17 00:02:01,721 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-17 00:02:01,727 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-17 00:02:01,727 - report_generator - INFO - Monthly totals values: {'2025-16': 60.0, '2025-17': 105.0, '2025-18': 100.0, '2025-19': 63.5, '2025-20': 40.0}
2025-05-17 00:02:01,736 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-17 00:02:01,913 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_000201.pdf
2025-05-17 00:02:02,118 - db_manager - INFO - Added report record with ID: 6
2025-05-17 00:02:05,172 - email_service - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-17 00:02:05,172 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:02:05] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:05:45,488 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:05:45] "OPTIONS /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:05:46,136 - db_manager - INFO - Added expense record with ID: 121
2025-05-17 00:05:46,136 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:05:46] "POST /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:05:46,287 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:05:46] "GET /api/categories HTTP/1.1" 200 -
2025-05-17 00:06:13,941 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:13] "OPTIONS /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:06:14,561 - db_manager - INFO - Added expense record with ID: 122
2025-05-17 00:06:14,562 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:14] "POST /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:06:15,264 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:15] "GET /api/categories HTTP/1.1" 200 -
2025-05-17 00:06:42,560 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:42] "OPTIONS /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:06:43,195 - db_manager - INFO - Added expense record with ID: 123
2025-05-17 00:06:43,196 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:43] "POST /api/process-manual-expense HTTP/1.1" 200 -
2025-05-17 00:06:43,350 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:43] "GET /api/categories HTTP/1.1" 200 -
2025-05-17 00:06:57,696 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:06:57] "OPTIONS /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:06:58,172 - report_generator - INFO - Report data - Grouped rows: 8, Detailed rows: 14
2025-05-17 00:06:58,172 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:06:58,173 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:06:58,173 - report_generator - INFO - Creating time chart. Data shape: (8, 5)
2025-05-17 00:06:58,174 - report_generator - INFO - Period labels: ['2025-3', '2025-8', '2025-11', '2025-16', '2025-17', '2025-18', '2025-19', '2025-20']
2025-05-17 00:06:58,174 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:06:58,174 - report_generator - INFO - Time series data for category 'Fuel': {'2025-11': Decimal('66.66'), '2025-16': Decimal('60.00'), '2025-17': Decimal('105.00'), '2025-18': Decimal('100.00'), '2025-19': Decimal('63.50'), '2025-20': Decimal('40.00'), '2025-3': Decimal('20.00'), '2025-8': Decimal('50.00')}
2025-05-17 00:06:58,296 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-17 00:06:58,297 - report_generator - INFO - Category totals: {'Fuel': Decimal('505.16')}
2025-05-17 00:06:58,297 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-17 00:06:58,302 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-17 00:06:58,302 - report_generator - INFO - Monthly totals values: {'2025-11': 66.66, '2025-16': 60.0, '2025-17': 105.0, '2025-18': 100.0, '2025-19': 63.5, '2025-20': 40.0, '2025-3': 20.0, '2025-8': 50.0}
2025-05-17 00:06:58,315 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-17 00:06:58,504 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_000658.pdf
2025-05-17 00:06:58,676 - db_manager - INFO - Added report record with ID: 7
2025-05-17 00:07:01,461 - email_service - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-17 00:07:01,463 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:07:01] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:14:00,730 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 00:14:01,821 - __main__ - INFO - Model training scheduler started
2025-05-17 00:14:01,821 - __main__ - INFO - Starting Discord bot in background thread
2025-05-17 00:14:01,821 - __main__ - INFO - Discord bot started
2025-05-17 00:14:01,822 - __main__ - INFO - Starting Flask application on port 5000
2025-05-17 00:14:01,823 - discord.client - INFO - logging in using static token
2025-05-17 00:14:02,677 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-17 00:14:02,677 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 00:14:02,835 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: dd83ab438db5bab584076807265c2a58).
2025-05-17 00:14:10,350 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:14:10] "GET /api/categories HTTP/1.1" 200 -
2025-05-17 00:14:38,265 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:14:38] "OPTIONS /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:14:38,742 - report_generator - INFO - Report data - Grouped rows: 8, Detailed rows: 14
2025-05-17 00:14:38,742 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:14:38,742 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:14:38,743 - report_generator - INFO - Creating time chart. Data shape: (8, 5)
2025-05-17 00:14:38,743 - report_generator - INFO - Period labels: ['2025-3', '2025-8', '2025-11', '2025-16', '2025-17', '2025-18', '2025-19', '2025-20']
2025-05-17 00:14:38,743 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:14:38,744 - report_generator - INFO - Time series data for category 'Fuel': {'2025-11': Decimal('66.66'), '2025-16': Decimal('60.00'), '2025-17': Decimal('105.00'), '2025-18': Decimal('100.00'), '2025-19': Decimal('63.50'), '2025-20': Decimal('40.00'), '2025-3': Decimal('20.00'), '2025-8': Decimal('50.00')}
2025-05-17 00:14:38,883 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-17 00:14:38,884 - report_generator - INFO - Category totals: {'Fuel': Decimal('505.16')}
2025-05-17 00:14:38,884 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-17 00:14:38,889 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-17 00:14:38,890 - report_generator - INFO - Monthly totals values: {'2025-11': 66.66, '2025-16': 60.0, '2025-17': 105.0, '2025-18': 100.0, '2025-19': 63.5, '2025-20': 40.0, '2025-3': 20.0, '2025-8': 50.0}
2025-05-17 00:14:38,902 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-17 00:14:39,084 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_001438.pdf
2025-05-17 00:14:39,253 - db_manager - INFO - Added report record with ID: 8
2025-05-17 00:14:41,581 - email_service - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-17 00:14:41,582 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:14:41] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:22:01,332 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 00:22:02,389 - __main__ - INFO - Model training scheduler started
2025-05-17 00:22:02,389 - __main__ - INFO - Starting Discord bot in background thread
2025-05-17 00:22:02,390 - __main__ - INFO - Discord bot started
2025-05-17 00:22:02,390 - __main__ - INFO - Starting Flask application on port 5000
2025-05-17 00:22:02,392 - discord.client - INFO - logging in using static token
2025-05-17 00:22:03,245 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-17 00:22:03,246 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 00:22:03,464 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: bd19c1e67bd5b5df8c305fe2fa196dd9).
2025-05-17 00:22:08,603 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:22:08] "OPTIONS /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:22:09,016 - report_generator - INFO - Report data - Grouped rows: 8, Detailed rows: 14
2025-05-17 00:22:09,016 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:22:09,016 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:22:09,017 - report_generator - INFO - Creating time chart. Data shape: (8, 5)
2025-05-17 00:22:09,017 - report_generator - INFO - Period labels: ['2025-3', '2025-8', '2025-11', '2025-16', '2025-17', '2025-18', '2025-19', '2025-20']
2025-05-17 00:22:09,017 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:22:09,018 - report_generator - INFO - Time series data for category 'Fuel': {'2025-3': Decimal('20.00'), '2025-8': Decimal('50.00'), '2025-11': Decimal('66.66'), '2025-16': Decimal('60.00'), '2025-17': Decimal('105.00'), '2025-18': Decimal('100.00'), '2025-19': Decimal('63.50'), '2025-20': Decimal('40.00')}
2025-05-17 00:22:09,153 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-17 00:22:09,154 - report_generator - INFO - Category totals: {'Fuel': Decimal('505.16')}
2025-05-17 00:22:09,154 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-17 00:22:09,160 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-17 00:22:09,160 - report_generator - INFO - Monthly totals values: {'2025-3': 20.0, '2025-8': 50.0, '2025-11': 66.66, '2025-16': 60.0, '2025-17': 105.0, '2025-18': 100.0, '2025-19': 63.5, '2025-20': 40.0}
2025-05-17 00:22:09,172 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-17 00:22:09,352 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_002209.pdf
2025-05-17 00:22:09,522 - db_manager - INFO - Added report record with ID: 9
2025-05-17 00:22:12,625 - email_service - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-17 00:22:12,626 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:22:12] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:24:13,356 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:24:13] "OPTIONS /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:24:13,793 - report_generator - INFO - Report data - Grouped rows: 5, Detailed rows: 14
2025-05-17 00:24:13,794 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:24:13,795 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:24:13,798 - report_generator - INFO - Creating time chart. Data shape: (5, 5)
2025-05-17 00:24:13,799 - report_generator - INFO - Period labels: ['2025-01', '2025-02', '2025-03', '2025-04', '2025-05']
2025-05-17 00:24:13,799 - report_generator - INFO - Total amount sum: 505.16
2025-05-17 00:24:13,802 - report_generator - INFO - Time series data for category 'Fuel': {'2025-01': Decimal('20.00'), '2025-02': Decimal('50.00'), '2025-03': Decimal('66.66'), '2025-04': Decimal('165.00'), '2025-05': Decimal('203.50')}
2025-05-17 00:24:13,938 - report_generator - INFO - Successfully created time chart for category 'Fuel'
2025-05-17 00:24:13,939 - report_generator - INFO - Category totals: {'Fuel': Decimal('505.16')}
2025-05-17 00:24:13,939 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-17 00:24:13,945 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-17 00:24:13,945 - report_generator - INFO - Monthly totals values: {'2025-01': 20.0, '2025-02': 50.0, '2025-03': 66.66, '2025-04': 165.0, '2025-05': 203.5}
2025-05-17 00:24:13,955 - report_generator - INFO - Created bar chart for category 'Fuel'
2025-05-17 00:24:14,155 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_002413.pdf
2025-05-17 00:24:14,329 - db_manager - INFO - Added report record with ID: 10
2025-05-17 00:24:17,874 - email_service - INFO - Email sent to robgrodev@gmail.com successfully
2025-05-17 00:24:17,875 - werkzeug - INFO - 127.0.0.1 - - [17/May/2025 00:24:17] "POST /api/generate-report HTTP/1.1" 200 -
2025-05-17 00:25:47,805 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-17 00:25:49,384 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-17 00:25:49,385 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wydatków na alkohol w roku 2025 grupowany co tydzieñ.
...
2025-05-17 00:25:49,385 - discord_bot - INFO - Discord transcription: Wyœlij mi raport PDF wydatków na alkohol w roku 2025 grupowany co tydzieñ.

2025-05-17 00:25:49,534 - nlp_category_parser - INFO - No specific date range found, defaulting to current year: 2025-01-01 to 2025-12-31
2025-05-17 00:25:49,535 - email_service - INFO - Report parameters - Category: None, Date range: 2025-01-01 to 2025-12-31, Format: pdf
2025-05-17 00:25:49,535 - email_service - INFO - Generating report - Category: All, Date range: 2025-01-01 to 2025-12-31
2025-05-17 00:25:49,799 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 00:25:49,990 - report_generator - INFO - Report data - Grouped rows: 18, Detailed rows: 85
2025-05-17 00:25:49,990 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:25:49,990 - report_generator - INFO - Total amount sum: 1357.90
2025-05-17 00:25:49,991 - report_generator - INFO - Creating time chart. Data shape: (18, 5)
2025-05-17 00:25:49,991 - report_generator - INFO - Period labels: ['2025-01', '2025-02', '2025-03', '2025-04', '2025-05']
2025-05-17 00:25:49,991 - report_generator - INFO - Total amount sum: 1357.90
2025-05-17 00:25:49,993 - report_generator - INFO - Pivot table shape: (5, 9)
2025-05-17 00:25:49,999 - report_generator - ERROR - Error creating multi-category time chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 137, in create_visualizations
    pivot_df.plot(kind='line', marker='o', ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 00:25:50,002 - report_generator - INFO - Category totals: {'Alcohol': Decimal('249.70'), 'Clothing': Decimal('318.00'), 'Fuel': Decimal('505.16'), 'Groceries': Decimal('104.71'), 'Materials': Decimal('73.28'), 'Office supplies': Decimal('4.25'), 'Other': Decimal('25.00'), 'Tools': Decimal('75.00'), 'Transportation': Decimal('2.80')}
2025-05-17 00:25:50,100 - report_generator - INFO - Category pie chart created successfully
2025-05-17 00:25:50,110 - report_generator - ERROR - Error creating comparison chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 267, in create_visualizations
    pivot_df.plot(kind='bar', stacked=True, ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 00:25:50,179 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_002549.pdf
2025-05-17 00:25:52,612 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-17 00:32:57,623 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 00:32:58,685 - __main__ - INFO - Model training scheduler started
2025-05-17 00:32:58,686 - __main__ - INFO - Starting Discord bot in background thread
2025-05-17 00:32:58,686 - __main__ - INFO - Discord bot started
2025-05-17 00:32:58,686 - __main__ - INFO - Starting Flask application on port 5000
2025-05-17 00:32:58,688 - discord.client - INFO - logging in using static token
2025-05-17 00:32:59,536 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-17 00:32:59,536 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 00:32:59,590 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: c5cb311cc06cb2dfd76e2c6c1b1ebab9).
2025-05-17 00:33:25,834 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-17 00:33:28,028 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-17 00:33:28,030 - transcription - INFO - Transcription successful: Wyœlij mi raport PDF wydatków na alkohol w roku 2025, grupowane co tydzieñ.
...
2025-05-17 00:33:28,030 - discord_bot - INFO - Discord transcription: Wyœlij mi raport PDF wydatków na alkohol w roku 2025, grupowane co tydzieñ.

2025-05-17 00:33:28,179 - nlp_category_parser - INFO - No specific date range found, defaulting to current year: 2025-01-01 to 2025-12-31
2025-05-17 00:33:28,179 - email_service - INFO - Report parameters - Category: None, Date range: 2025-01-01 to 2025-12-31, Format: pdf
2025-05-17 00:33:28,179 - email_service - INFO - Generating report - Category: All, Date range: 2025-01-01 to 2025-12-31
2025-05-17 00:33:28,479 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 00:33:28,659 - report_generator - INFO - Report data - Grouped rows: 18, Detailed rows: 85
2025-05-17 00:33:28,659 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:33:28,660 - report_generator - INFO - Total amount sum: 1357.90
2025-05-17 00:33:28,660 - report_generator - INFO - Creating time chart. Data shape: (18, 5)
2025-05-17 00:33:28,660 - report_generator - INFO - Period labels: ['2025-01', '2025-02', '2025-03', '2025-04', '2025-05']
2025-05-17 00:33:28,660 - report_generator - INFO - Total amount sum: 1357.90
2025-05-17 00:33:28,663 - report_generator - INFO - Pivot table shape: (5, 9)
2025-05-17 00:33:28,680 - report_generator - ERROR - Error creating multi-category time chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 137, in create_visualizations
    pivot_df.plot(kind='line', marker='o', ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 00:33:28,684 - report_generator - INFO - Category totals: {'Alcohol': Decimal('249.70'), 'Clothing': Decimal('318.00'), 'Fuel': Decimal('505.16'), 'Groceries': Decimal('104.71'), 'Materials': Decimal('73.28'), 'Office supplies': Decimal('4.25'), 'Other': Decimal('25.00'), 'Tools': Decimal('75.00'), 'Transportation': Decimal('2.80')}
2025-05-17 00:33:28,784 - report_generator - INFO - Category pie chart created successfully
2025-05-17 00:33:28,792 - report_generator - ERROR - Error creating comparison chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 267, in create_visualizations
    pivot_df.plot(kind='bar', stacked=True, ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 00:33:28,857 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_003328.pdf
2025-05-17 00:33:31,142 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-17 00:35:20,571 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-17 00:35:22,548 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-17 00:35:22,550 - transcription - INFO - Transcription successful: Zostawcie mi raport w PDF. Wszystkie koszty alkoholu w tym roku, grupê przez tydzieñ.
...
2025-05-17 00:35:22,551 - discord_bot - INFO - Discord transcription: Zostawcie mi raport w PDF. Wszystkie koszty alkoholu w tym roku, grupê przez tydzieñ.

2025-05-17 00:35:22,700 - nlp_category_parser - INFO - No specific date range found, defaulting to current year: 2025-01-01 to 2025-12-31
2025-05-17 00:35:22,700 - email_service - INFO - Report parameters - Category: None, Date range: 2025-01-01 to 2025-12-31, Format: pdf
2025-05-17 00:35:22,701 - email_service - INFO - Generating report - Category: All, Date range: 2025-01-01 to 2025-12-31
2025-05-17 00:35:22,966 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 00:35:23,140 - report_generator - INFO - Report data - Grouped rows: 18, Detailed rows: 85
2025-05-17 00:35:23,140 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 00:35:23,140 - report_generator - INFO - Total amount sum: 1357.90
2025-05-17 00:35:23,140 - report_generator - INFO - Creating time chart. Data shape: (18, 5)
2025-05-17 00:35:23,140 - report_generator - INFO - Period labels: ['2025-01', '2025-02', '2025-03', '2025-04', '2025-05']
2025-05-17 00:35:23,141 - report_generator - INFO - Total amount sum: 1357.90
2025-05-17 00:35:23,142 - report_generator - INFO - Pivot table shape: (5, 9)
2025-05-17 00:35:23,149 - report_generator - ERROR - Error creating multi-category time chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 137, in create_visualizations
    pivot_df.plot(kind='line', marker='o', ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 00:35:23,150 - report_generator - INFO - Category totals: {'Alcohol': Decimal('249.70'), 'Clothing': Decimal('318.00'), 'Fuel': Decimal('505.16'), 'Groceries': Decimal('104.71'), 'Materials': Decimal('73.28'), 'Office supplies': Decimal('4.25'), 'Other': Decimal('25.00'), 'Tools': Decimal('75.00'), 'Transportation': Decimal('2.80')}
2025-05-17 00:35:23,237 - report_generator - INFO - Category pie chart created successfully
2025-05-17 00:35:23,246 - report_generator - ERROR - Error creating comparison chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 267, in create_visualizations
    pivot_df.plot(kind='bar', stacked=True, ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 00:35:23,314 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_003523.pdf
2025-05-17 00:35:27,076 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-17 01:18:53,768 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 01:18:54,854 - __main__ - INFO - Model training scheduler started
2025-05-17 01:18:54,855 - __main__ - INFO - Starting Discord bot in background thread
2025-05-17 01:18:54,855 - __main__ - INFO - Discord bot started
2025-05-17 01:18:54,855 - __main__ - INFO - Starting Flask application on port 5000
2025-05-17 01:18:54,857 - discord.client - INFO - logging in using static token
2025-05-17 01:18:55,708 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.190:5000
2025-05-17 01:18:55,708 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-17 01:18:55,868 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 570e5b6b8cc103cb79d357f922c939b6).
2025-05-17 01:19:18,479 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-17 01:19:20,614 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-17 01:19:20,616 - transcription - INFO - Transcription successful: Zapraszam na e-mail z raportem w pdf. Wszystkie koszty wynios³y przez sprzeda¿, wynios³y przez miesi...
2025-05-17 01:19:20,616 - discord_bot - INFO - Discord transcription: Zapraszam na e-mail z raportem w pdf. Wszystkie koszty wynios³y przez sprzeda¿, wynios³y przez miesi¹c w tym roku.

2025-05-17 01:19:20,769 - nlp_category_parser - INFO - Detected month: apr 2025 -> 2025-04-01 to 2025-04-30
2025-05-17 01:19:20,769 - email_service - INFO - Report parameters - Category: None, Date range: 2025-04-01 to 2025-04-30, Format: pdf
2025-05-17 01:19:20,769 - email_service - INFO - Generating report - Category: All, Date range: 2025-04-01 to 2025-04-30
2025-05-17 01:19:21,032 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 01:19:21,216 - report_generator - INFO - Report data - Grouped rows: 7, Detailed rows: 36
2025-05-17 01:19:21,216 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 01:19:21,217 - report_generator - INFO - Total amount sum: 658.75
2025-05-17 01:19:21,217 - report_generator - INFO - Creating time chart. Data shape: (7, 5)
2025-05-17 01:19:21,217 - report_generator - INFO - Period labels: ['2025-04']
2025-05-17 01:19:21,217 - report_generator - INFO - Total amount sum: 658.75
2025-05-17 01:19:21,219 - report_generator - INFO - Pivot table shape: (1, 7)
2025-05-17 01:19:21,237 - report_generator - ERROR - Error creating multi-category time chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 137, in create_visualizations
    pivot_df.plot(kind='line', marker='o', ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 01:19:21,239 - report_generator - INFO - Category totals: {'Alcohol': Decimal('166.70'), 'Clothing': Decimal('273.00'), 'Fuel': Decimal('165.00'), 'Groceries': Decimal('48.75'), 'Office supplies': Decimal('2.50'), 'Other': Decimal('0.00'), 'Transportation': Decimal('2.80')}
2025-05-17 01:19:21,333 - report_generator - INFO - Category pie chart created successfully
2025-05-17 01:19:21,343 - report_generator - ERROR - Error creating comparison chart: no numeric data to plot
Traceback (most recent call last):
  File "C:\_python\Expenses\report_generator.py", line 267, in create_visualizations
    pivot_df.plot(kind='bar', stacked=True, ax=ax)
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_core.py", line 1030, in __call__
    return plot_backend.plot(data, kind=kind, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\__init__.py", line 71, in plot
    plot_obj.generate()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 499, in generate
    self._compute_plot_data()
  File "C:\_python\Expenses\.venv\Lib\site-packages\pandas\plotting\_matplotlib\core.py", line 698, in _compute_plot_data
    raise TypeError("no numeric data to plot")
TypeError: no numeric data to plot
2025-05-17 01:19:21,407 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_011921.pdf
2025-05-17 01:19:24,367 - report_generator - INFO - Report email sent to robgrodev@gmail.com
2025-05-17 01:19:52,595 - transcription - ERROR - Unexpected error during audio conversion: [WinError 2] Nie mo¿na odnaleŸæ okreœlonego pliku
2025-05-17 01:19:54,091 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-05-17 01:19:54,092 - transcription - INFO - Transcription successful: My report in PDF all expenses for groceries this year grouped by month.
...
2025-05-17 01:19:54,092 - discord_bot - INFO - Discord transcription: My report in PDF all expenses for groceries this year grouped by month.

2025-05-17 01:19:54,237 - nlp_category_parser - INFO - No specific date range found, defaulting to current year: 2025-01-01 to 2025-12-31
2025-05-17 01:19:54,237 - email_service - INFO - Report parameters - Category: Groceries, Date range: 2025-01-01 to 2025-12-31, Format: pdf
2025-05-17 01:19:54,237 - email_service - INFO - Generating report - Category: Groceries, Date range: 2025-01-01 to 2025-12-31
2025-05-17 01:19:54,567 - db_manager - INFO - Database schema verification completed successfully
2025-05-17 01:19:54,733 - report_generator - INFO - Report data - Grouped rows: 2, Detailed rows: 34
2025-05-17 01:19:54,733 - report_generator - INFO - Grouped columns: ['period', 'period_label', 'category', 'total_amount', 'transaction_count']
2025-05-17 01:19:54,733 - report_generator - INFO - Total amount sum: 104.71
2025-05-17 01:19:54,734 - report_generator - INFO - Creating time chart. Data shape: (2, 5)
2025-05-17 01:19:54,734 - report_generator - INFO - Period labels: ['2025-04', '2025-05']
2025-05-17 01:19:54,734 - report_generator - INFO - Total amount sum: 104.71
2025-05-17 01:19:54,735 - report_generator - INFO - Time series data for category 'Groceries': {'2025-04': Decimal('48.75'), '2025-05': Decimal('55.96')}
2025-05-17 01:19:54,850 - report_generator - INFO - Successfully created time chart for category 'Groceries'
2025-05-17 01:19:54,851 - report_generator - INFO - Category totals: {'Groceries': Decimal('104.71')}
2025-05-17 01:19:54,851 - report_generator - WARNING - Skipping category chart - insufficient data
2025-05-17 01:19:54,857 - report_generator - INFO - Monthly totals data type: <class 'numpy.float64'>
2025-05-17 01:19:54,857 - report_generator - INFO - Monthly totals values: {'2025-04': 48.75, '2025-05': 55.96}
2025-05-17 01:19:54,867 - report_generator - INFO - Created bar chart for category 'Groceries'
2025-05-17 01:19:55,027 - report_generator - INFO - Report generated successfully: reports\expense_report_20250517_011954.pdf
2025-05-17 01:19:57,272 - report_generator - INFO - Report email sent to robgrodev@gmail.com
